---
title: Configurer des champs personnalisés comme dimensions de tarification
description: Cette rubrique donne des informations sur la configuration de dimensions de tarification à l’aide de champs personnalisés.
author: rumant
ms.date: 09/18/2020
ms.topic: article
ms.prod: ''
audience: Application User
ms.reviewer: kfend
ms.search.scope: ''
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Service industries
ms.author: rumant
ms.dyn365.ops.version: ''
ms.search.validFrom: 2020-10-01
ms.openlocfilehash: d40a80f80bd766bfc19e831ea805a4043baf0030
ms.sourcegitcommit: 40f68387f594180af64a5e5c748b6efa188bd300
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/10/2021
ms.locfileid: "6004708"
---
# <a name="set-up-custom-fields-as-pricing-dimensions"></a><span data-ttu-id="ebcdc-103">Configurer des champs personnalisés comme dimensions de tarification</span><span class="sxs-lookup"><span data-stu-id="ebcdc-103">Set up custom fields as pricing dimensions</span></span>

<span data-ttu-id="ebcdc-104">_**S’applique à :** Project Operations pour les scénarios basés sur les ressources/produits non stockés Déploiement simplifié – Traiter la facturation pro forma_</span><span class="sxs-lookup"><span data-stu-id="ebcdc-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios, Lite deployment - deal to proforma invoicing_</span></span>

<span data-ttu-id="ebcdc-105">Avant de commencer, cette rubrique suppose que vous avez effectué les procédures décrites dans les rubriques, [Créer des champs et des entités personnalisés](create-custom-fields-entities-pricing-dimensions.md) et [Ajouter des champs personnalisés obligatoires au paramétrage de tarifs et aux entités transactionnelles](add-custom-fields-price-setup-transactional-entities.md).</span><span class="sxs-lookup"><span data-stu-id="ebcdc-105">Before you begin, this topic assumes that you have completed the procedures in the topics, [Create custom fields and entities](create-custom-fields-entities-pricing-dimensions.md) and [Add required custom fields to price setup and transactional entities](add-custom-fields-price-setup-transactional-entities.md).</span></span> <span data-ttu-id="ebcdc-106">Si vous n’avez pas effectué ces procédures, revenez en arrière et effectuez-les, puis revenez à cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-106">If you haven't completed those procedures, go back and complete them and then return to this topic.</span></span> 

<span data-ttu-id="ebcdc-107">Cette rubrique donne des informations sur la configuration de dimensions de tarification personnalisées.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-107">This topic provides information about setting up custom pricing dimensions.</span></span> <span data-ttu-id="ebcdc-108">Dans la page **Paramètres**, l’onglet **Dimensions de tarification basées sur le montant** affiche les enregistrements des entités Dimension de tarification.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-108">On the **Parameters** page, the **Amount-Based Pricing Dimensions** tab shows the records in the pricing dimension entities.</span></span> <span data-ttu-id="ebcdc-109">Par défaut, il y a deux lignes dans la grille sur cet onglet :</span><span class="sxs-lookup"><span data-stu-id="ebcdc-109">By default, there are two rows in the grid on this tab:</span></span>

- <span data-ttu-id="ebcdc-110">**msdyn_resourcecategory** (rôle)</span><span class="sxs-lookup"><span data-stu-id="ebcdc-110">**msdyn_resourcecategory** (Role)</span></span>
- <span data-ttu-id="ebcdc-111">**msdyn_OrganizationalUnit** (unité d’organisation)</span><span class="sxs-lookup"><span data-stu-id="ebcdc-111">**msdyn_OrganizationalUnit** (Organizational Unit)</span></span>

> [!IMPORTANT]
> <span data-ttu-id="ebcdc-112">Ne supprimez pas ces lignes.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-112">Do not delete these rows.</span></span> <span data-ttu-id="ebcdc-113">Toutefois, si vous n’en avez pas besoin, vous pouvez les rendre non applicables dans un contexte spécifique en définissant **Applicable aux coûts**, **Applicable aux ventes** et **Applicable aux achats** sur **Non**.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-113">However, if you do not need them, you can make them not applicable in a specific context by setting **Applicable to Cost**, **Applicable to Sales**, and **Applicable to Purchase** all to **No**.</span></span> <span data-ttu-id="ebcdc-114">Définir ces valeurs d’attribut sur **Non** revient au même que de ne pas définir un champ comme dimension de tarification.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-114">Setting these attribute values to **No** has the same effect of not having the field as a pricing dimension.</span></span>

<span data-ttu-id="ebcdc-115">Pour qu’un champ devienne une dimension de tarification, il doit être :</span><span class="sxs-lookup"><span data-stu-id="ebcdc-115">For a field to become a pricing dimension, it must be:</span></span>

- <span data-ttu-id="ebcdc-116">Créé en tant que champ dans les entités **Prix du rôle** et **Majoration du prix du rôle**.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-116">Created as a field in the **Role Price** and **Role Price markup** entities.</span></span> <span data-ttu-id="ebcdc-117">Pour plus d’informations sur cette procédure, consultez [Ajouter des champs personnalisés au paramétrage de tarifs et aux entités transactionnelles](add-custom-fields-price-setup-transactional-entities.md).</span><span class="sxs-lookup"><span data-stu-id="ebcdc-117">For more information on how to do this, see [Add custom fields to price setup and transactional entities](add-custom-fields-price-setup-transactional-entities.md).</span></span>

- <span data-ttu-id="ebcdc-118">Créé en tant que ligne dans la table **Dimension de tarification**.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-118">Created as a row in the **Pricing Dimension** table.</span></span> <span data-ttu-id="ebcdc-119">Par exemple, ajoutez des lignes de dimension de tarification, comme illustré dans le graphique suivant.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-119">For example, add pricing dimension rows as shown in the following graphic.</span></span> 

![Lignes de dimension de tarification basées sur le montant](media/Amt-based-PD.png)

<span data-ttu-id="ebcdc-121">Les heures de travail de la ressource (**msdyn_resourceworkhours**) ont été ajoutée comme dimension basée sur la majoration et ajoutée à la grille de l’onglet **Dimension de tarification basée sur la majoration**.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-121">Resource Work hours (**msdyn_resourceworkhours**) is added as a markup-based dimension and has been added to the grid on the **Markup Based Pricing Dimension** tab.</span></span>

![Lignes de dimension de tarification basées sur la majoration](media/Markup-based-PD.png)


> [!IMPORTANT]
> <span data-ttu-id="ebcdc-123">Toute modification des données de dimension de tarification contenues dans ce tableau, existantes ou nouvelles, est propagée à la logique métier de tarification uniquement après actualisation du cache.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-123">Any change to pricing dimension data in this table, existing or new, is propagated to the pricing business logic only after the cache is refreshed.</span></span> <span data-ttu-id="ebcdc-124">L’actualisation du cache peut prendre jusqu’à 10 minutes.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-124">The cache refresh time may take up to 10 minutes.</span></span> <span data-ttu-id="ebcdc-125">En attendant, vous pouvez voir les modifications de la logique de prix par défaut qui doivent résulter des modifications des données de dimension de tarification.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-125">Allow that length of time to see the changes in price defaulting logic that must result from changes to the Pricing Dimension data.</span></span>


## <a name="attributes-of-the-pricing-dimensions-table"></a><span data-ttu-id="ebcdc-126">Attributs de la table Dimensions de tarification</span><span class="sxs-lookup"><span data-stu-id="ebcdc-126">Attributes of the Pricing Dimensions table</span></span>
<span data-ttu-id="ebcdc-127">Les sections suivantes donnent des informations sur les différents attributs de la table **Dimensions de tarification**.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-127">The following sections provide information about the different attributes in the **Pricing Dimensions** table.</span></span>

### <a name="pricing-dimension-name"></a><span data-ttu-id="ebcdc-128">Nom de la dimension de tarification</span><span class="sxs-lookup"><span data-stu-id="ebcdc-128">Pricing Dimension Name</span></span>
<span data-ttu-id="ebcdc-129">Cette valeur doit être exactement la même que le nom de schéma du champ ajouté à la table **Prix du rôle** pour les dimensions de tarification personnalisées.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-129">This value should be the exact same as the schema name of the field that is added to the **Role Price** table for custom pricing dimensions.</span></span> <span data-ttu-id="ebcdc-130">Pour plus d’informations sur l’ajout de champs à la table **Prix du rôle**, consultez [Ajouter des champs personnalisés au paramétrage de tarifs et aux entités transactionnelles](add-custom-fields-price-setup-transactional-entities.md).</span><span class="sxs-lookup"><span data-stu-id="ebcdc-130">For more information about adding fields to the **Role Price** table, see [Add custom fields to price setup and transactional entities](add-custom-fields-price-setup-transactional-entities.md).</span></span>

### <a name="type-of-dimension"></a><span data-ttu-id="ebcdc-131">Type de dimension</span><span class="sxs-lookup"><span data-stu-id="ebcdc-131">Type of dimension</span></span>
<span data-ttu-id="ebcdc-132">Il existe deux types de dimensions de tarification :</span><span class="sxs-lookup"><span data-stu-id="ebcdc-132">There are two types of pricing dimensions:</span></span>
  
  - <span data-ttu-id="ebcdc-133">**Dimensions basées sur le montant** : les valeurs de dimension dans le contexte d’entrée sont mises en correspondance avec les valeurs de dimension de la ligne **Prix du rôle** et le prix/coût est défini par défaut directement à partir de la table **Prix du rôle**.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-133">**Amount-based dimensions**: The dimension values from the input context are matched to the dimension values on **Role Price** line and the price/cost is defaulted directly from the **Role Price** table.</span></span>
  - <span data-ttu-id="ebcdc-134">**Dimensions basées sur la majoration** : Ce sont des dimensions pour lesquelles le processus en 3 étapes ci-après pour obtenir le prix/coût est utilisé :</span><span class="sxs-lookup"><span data-stu-id="ebcdc-134">**Markup-based dimensions**: These are dimensions where the following three-step process to get the price/cost is used:</span></span>
 
    1. <span data-ttu-id="ebcdc-135">Les valeurs de dimension qui ne sont pas basées sur la majoration dans le contexte d’entrée sont mises en correspondance avec la ligne Prix du rôle pour obtenir le taux de base.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-135">The non-markup-based dimension values from the input context are matched to the Role Price line to get the base rate.</span></span>
    2. <span data-ttu-id="ebcdc-136">Les valeurs de dimension dans le contexte d’entrée sont mises en correspondance avec la ligne **Majoration du prix du rôle** pour obtenir un pourcentage de majoration.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-136">The dimension values from the input context are matched to the **Role Price Markup** line to get a markup percentage.</span></span>
    3. <span data-ttu-id="ebcdc-137">Le pourcentage de majoration dans la seconde étape est appliqué au taux de base obtenu à partir de la table **Prix du rôle** dans la première étape pour arriver au prix/coût final.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-137">The markup percentage from the second step is applied to the base rate obtained from the **Role Price** table in the first step to arrive at final price/cost.</span></span>
   
   <span data-ttu-id="ebcdc-138">Le tableau suivant illustre le calcul des majorations de prix.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-138">The following table illustrates the calculation of price markups.</span></span>
  
| <span data-ttu-id="ebcdc-139">Rôle</span><span class="sxs-lookup"><span data-stu-id="ebcdc-139">Role</span></span>        | <span data-ttu-id="ebcdc-140">Unité d’organisation</span><span class="sxs-lookup"><span data-stu-id="ebcdc-140">Org Unit</span></span>    |<span data-ttu-id="ebcdc-141">Emplacement de travail</span><span class="sxs-lookup"><span data-stu-id="ebcdc-141">Work Location</span></span>      |<span data-ttu-id="ebcdc-142">Titre standard</span><span class="sxs-lookup"><span data-stu-id="ebcdc-142">Standard Title</span></span>      |<span data-ttu-id="ebcdc-143">Heures de travail de la ressource</span><span class="sxs-lookup"><span data-stu-id="ebcdc-143">Resource Work Hours</span></span>      |  <span data-ttu-id="ebcdc-144">Majoration</span><span class="sxs-lookup"><span data-stu-id="ebcdc-144">Mark Up</span></span>|
| ------------|-------------|-------------------|--------------------|-------------------------|--------:|
|             | <span data-ttu-id="ebcdc-145">Contoso Inde</span><span class="sxs-lookup"><span data-stu-id="ebcdc-145">Contoso India</span></span>|<span data-ttu-id="ebcdc-146">Sur site</span><span class="sxs-lookup"><span data-stu-id="ebcdc-146">Onsite</span></span>            |                    |<span data-ttu-id="ebcdc-147">Heures supplémentaires</span><span class="sxs-lookup"><span data-stu-id="ebcdc-147">Overtime</span></span>                 |<span data-ttu-id="ebcdc-148">15</span><span class="sxs-lookup"><span data-stu-id="ebcdc-148">15</span></span>     |
|             | <span data-ttu-id="ebcdc-149">Contoso Inde</span><span class="sxs-lookup"><span data-stu-id="ebcdc-149">Contoso India</span></span>|<span data-ttu-id="ebcdc-150">Local</span><span class="sxs-lookup"><span data-stu-id="ebcdc-150">Local</span></span>             |                    |<span data-ttu-id="ebcdc-151">Heures supplémentaires</span><span class="sxs-lookup"><span data-stu-id="ebcdc-151">Overtime</span></span>                 |<span data-ttu-id="ebcdc-152">10</span><span class="sxs-lookup"><span data-stu-id="ebcdc-152">10</span></span>     |
|             | <span data-ttu-id="ebcdc-153">Contoso US</span><span class="sxs-lookup"><span data-stu-id="ebcdc-153">Contoso US</span></span>   |<span data-ttu-id="ebcdc-154">Local</span><span class="sxs-lookup"><span data-stu-id="ebcdc-154">Local</span></span>             |                    |<span data-ttu-id="ebcdc-155">Heures supplémentaires</span><span class="sxs-lookup"><span data-stu-id="ebcdc-155">Overtime</span></span>                 |<span data-ttu-id="ebcdc-156">20</span><span class="sxs-lookup"><span data-stu-id="ebcdc-156">20</span></span>     |


<span data-ttu-id="ebcdc-157">Si une ressource de Contoso Inde dont le taux de base est 100 USD travaille sur site, et elle consigne 8 heures de travail normales et 2 heures supplémentaires dans l’entrée de temps, le moteur de tarification utilise le taux de base de 100 USD pour les 8 heures pour obtenir 800 USD.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-157">If a resource from Contoso India whose base rate is 100 USD is working onsite, and they log 8 hours of Regular time and 2 hours of overtime on the time entry, the pricing engine will use the base rate of 100 for the 8 hours to record 800 USD.</span></span> <span data-ttu-id="ebcdc-158">Pour les 2 heures supplémentaires, une majoration de 15 %% est appliquée au taux de base de 100 USD pour obtenir un prix unitaire de 115 USD et un coût total de 230 USD.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-158">For the 2 hours overtime, a markup of 15% will be applied to the base rate of 100 to get a unit price of 115 USD and will record a total cost of 230 USD.</span></span>

### <a name="applicable-to-cost"></a><span data-ttu-id="ebcdc-159">Applicable aux coûts</span><span class="sxs-lookup"><span data-stu-id="ebcdc-159">Applicable to Cost</span></span> 
<span data-ttu-id="ebcdc-160">Si ce paramètre est défini sur **Oui**, cela indique que la valeur de dimension dans le contexte d’entrée doit être utilisée pour la mise en correspondance avec les champs **Prix du rôle** et **Majoration du prix du rôle** lors de la récupération des taux de coût et de majoration.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-160">If this is set to **Yes**, it indicates that the dimension value from the input context should be used to match to the **Role Price** and **Role Price Markup** when retrieving the cost and markup rates.</span></span>

### <a name="applicable-to-sales"></a><span data-ttu-id="ebcdc-161">Applicable aux ventes</span><span class="sxs-lookup"><span data-stu-id="ebcdc-161">Applicable to Sales</span></span>
<span data-ttu-id="ebcdc-162">Si ce paramètre est défini sur **Oui**, cela indique que la valeur de dimension dans le contexte d’entrée doit être utilisée pour la mise en correspondance avec les champs **Prix du rôle** et **Majoration du prix du rôle** lors de la récupération des taux de facturation et de majoration.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-162">If this is set to **Yes**, it indicates that the dimension value from the input context should be used to match to the **Role Price** and **Role Price Markup** when retrieving the bill and markup rates.</span></span>

### <a name="applicable-to-purchase"></a><span data-ttu-id="ebcdc-163">Applicable aux achats</span><span class="sxs-lookup"><span data-stu-id="ebcdc-163">Applicable to Purchase</span></span>
<span data-ttu-id="ebcdc-164">Si ce paramètre est défini sur **Oui**, cela indique que la valeur de dimension dans le contexte d’entrée doit être utilisée pour la mise en correspondance avec les champs **Prix du rôle** et **Majoration du prix du rôle** lors de la récupération du prix d’achat.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-164">If this is set to **Yes**, it indicates that the dimension value from the input context should be used to match to the **Role Price** and **Role Price Markup** when retrieving the purchase price.</span></span> <span data-ttu-id="ebcdc-165">Les scénarios de sous-traitance ne sont pas pris en charge, ce champ n’est donc pas utilisé.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-165">Subcontracting scenarios are not supported, so this field is not used.</span></span> 

### <a name="priority"></a><span data-ttu-id="ebcdc-166">Priorité</span><span class="sxs-lookup"><span data-stu-id="ebcdc-166">Priority</span></span>
<span data-ttu-id="ebcdc-167">La définition de la priorité de la dimension aide à produire un prix même lorsqu’elle ne trouve pas de correspondance exacte entre les valeurs de dimension d’entrée et les valeurs des tables **Prix du rôle** ou **Majoration du prix du rôle**.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-167">Setting the dimension priority helps pricing produce a price even when it can't find an exact match between the input dimension values and the values from the **Role Price** or **Role Price Markup** tables.</span></span> <span data-ttu-id="ebcdc-168">Dans ce cas, des valeurs nulles sont utilisées pour les valeurs de dimension sans correspondance en pondérant les dimensions dans leur ordre de priorité.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-168">In this scenario, null values are used for unmatched dimension values by weighing the dimensions in order of their priority.</span></span>

- <span data-ttu-id="ebcdc-169">**Priorité des coûts** : la valeur de la priorité des coûts d’une dimension indique le poids de cette dimension lors de la mise en correspondance avec la configuration des prix de revient.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-169">**Cost Priority**: The value of a dimension's cost priority will indicate the weight of that dimension when matching against the setup of cost prices.</span></span> <span data-ttu-id="ebcdc-170">La valeur de **Priorité des coûts** doit être unique dans les dimensions **applicables aux coûts**.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-170">The value of **Cost Priority** must be unique across dimensions that are **Applicable to Cost**.</span></span>
- <span data-ttu-id="ebcdc-171">**Priorité des ventes** : la valeur de la priorité des ventes d’une dimension indique le poids de cette dimension lors de la mise en correspondance avec la configuration des prix de vente ou des taux de facturation.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-171">**Sales Priority**: The value of dimension's sales priority will indicate the weight of that dimension when matching against the setup of sales prices or bill rates.</span></span> <span data-ttu-id="ebcdc-172">La valeur de **Priorité des ventes** doit être unique dans les dimensions **applicables aux ventes**.</span><span class="sxs-lookup"><span data-stu-id="ebcdc-172">The value of **Sales Priority** must be unique across dimensions that are **Applicable to Sales**.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]