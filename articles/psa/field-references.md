---
title: Ajouter des champs personnalisés au paramétrage de tarifs et aux entités transactionnelles
description: Cette rubrique fournit des informations sur l’ajout de champs personnalisés aux entités de configuration du prix et de transaction.
author: Rumant
ms.custom:
- dyn365-projectservice
ms.date: 10/01/2020
ms.topic: article
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: 0eebafe8b4ce54c6ad6ca64200caea8fa414f6cf
ms.sourcegitcommit: 40f68387f594180af64a5e5c748b6efa188bd300
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/10/2021
ms.locfileid: "6007543"
---
# <a name="add-custom-fields-to-price-setup-and-transactional-entities"></a><span data-ttu-id="f86ce-103">Ajouter des champs personnalisés au paramétrage de tarifs et aux entités transactionnelles</span><span class="sxs-lookup"><span data-stu-id="f86ce-103">Add custom fields to price setup and transactional entities</span></span> 

[!include [banner](../includes/psa-now-project-operations.md)]

<span data-ttu-id="f86ce-104">Cette rubrique suppose que vous avez effectué les procédures de la rubrique [Création de champs et entités personnalisés](create-custom-fields-entities.md).</span><span class="sxs-lookup"><span data-stu-id="f86ce-104">This topic assumes that you have completed the procedures in the topic, [Create custom fields and entities](create-custom-fields-entities.md).</span></span> <span data-ttu-id="f86ce-105">Si vous n’avez pas effectué ces procédures, revenez en arrière et effectuez-les, puis revenez à cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="f86ce-105">If you haven't completed those procedures, go back and complete them and then return to this topic.</span></span> 

<span data-ttu-id="f86ce-106">Dans cette rubrique, les procédures vous afficheront comment ajouter des références de champ aux entités personnalisées requises et aux éléments de l’interface utilisateur (IU), tels que les formulaires et les vues.</span><span class="sxs-lookup"><span data-stu-id="f86ce-106">In this topic, the procedures will show you how to add the required custom field references to entities and to the user interface (UI) elements such as forms and views.</span></span>

## <a name="add-custom-pricing-dimension-fields"></a><span data-ttu-id="f86ce-107">Ajouter des champs de dimension de tarification personnalisée</span><span class="sxs-lookup"><span data-stu-id="f86ce-107">Add custom pricing dimension fields</span></span> 
<span data-ttu-id="f86ce-108">Une fois les champs et entités personnalisés créés, l’étape suivante consiste à configurer les prix et informer les entités transactionnelles de toutes les entités ou jeux d’options personnalisés en créant des champs de référence.</span><span class="sxs-lookup"><span data-stu-id="f86ce-108">After custom fields and entities have been created, the next step is to make price setup and transactional entities aware of any custom entities or option sets by creating reference fields.</span></span> <span data-ttu-id="f86ce-109">Selon que votre liste de dimensions de tarification comprend les dimensions de jeu d’options ou les dimensions d’entité, ou les deux, suivez uniquement les étapes de **Dimensions de tarification personnalisées basées sur un jeu d’options** ou **Dimensions de tarification personnalisées basées sur une entité**, ou les deux, respectivement.</span><span class="sxs-lookup"><span data-stu-id="f86ce-109">Depending on whether your pricing dimensions list includes option set dimensions or entity dimensions or both, follow only the steps in **Option set-based custom pricing dimensions** or **Entity-based custom pricing dimensions**, or both, respectively.</span></span>

### <a name="option-set-based-custom-pricing-dimensions"></a><span data-ttu-id="f86ce-110">Dimensions de tarification personnalisées basées sur un jeu d’options</span><span class="sxs-lookup"><span data-stu-id="f86ce-110">Option set-based custom pricing dimensions</span></span>
<span data-ttu-id="f86ce-111">Lorsqu’une dimension de tarification option personnalisée est basée sur un jeu d’options, ajoutez-la en tant que champ dans les entités Project Service principales.</span><span class="sxs-lookup"><span data-stu-id="f86ce-111">When a custom pricing dimension is option set-based, add it as a field to key Project Service entities.</span></span> <span data-ttu-id="f86ce-112">Dans la procédure suivante, **Emplacement de travail des ressources** et **Heures de travail des ressources** sont utilisées comme dimensions de tarification basées sur un jeu d’options.</span><span class="sxs-lookup"><span data-stu-id="f86ce-112">In the following procedure, **Resource Work Location** and **Resource Work Hours** are used as the option set-based pricing dimensions.</span></span> <span data-ttu-id="f86ce-113">Elles doivent être préalablement ajoutées en tant que champs dans les entités de tarification, **Prix du rôle** et **Majoration du prix de rôle**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-113">These must first be added as fields to the pricing entities, **Role Price** and **Role Price Markup**.</span></span>

1. <span data-ttu-id="f86ce-114">Dans Project Service Automation (PSA), cliquez sur **Paramètres** > **Solutions**, puis double-cliquez sur **\<your organization name> dimensions Tarification**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-114">In Project Service Automation (PSA), click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="f86ce-115">Dans l’Explorateur de solutions, sur le volet de navigation de gauche, sélectionnez **Entités > Prix du rôle**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-115">In Solution Explorer, on the left navigation pane, select **Entities > Role Price**.</span></span>
3. <span data-ttu-id="f86ce-116">Développez l’entité **Prix du rôle** et sélectionnez **Champs**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-116">Expand the entity **Role Price** and select **Fields**.</span></span>
4. <span data-ttu-id="f86ce-117">Cliquez sur **Nouveau** pour créer un champ nommé **Emplacement de travail des ressources** et sélectionnez **Jeu d’options** comme type de champ.</span><span class="sxs-lookup"><span data-stu-id="f86ce-117">Click **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="f86ce-118">Sélectionnez **Utiliser un jeu d’options existant**, sélectionnez le jeu d’options **Emplacement de travail des ressources**, puis cliquez sur **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-118">Select **Use an existing Option set**, select the **Resource Work Location** option set, and then click **Save**.</span></span>
6. <span data-ttu-id="f86ce-119">Répétez les étapes 1 à 5 pour ajouter ce champ à l’entité **Majoration du prix du rôle**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-119">Repeat steps 1 - 5 to add this field to the **Role Price Markup** entity.</span></span> 
7. <span data-ttu-id="f86ce-120">Répétez les étapes 1 à 5 du jeu d’options **Heures de travail des ressources**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-120">Repeat steps 1 - 5 for the **Resource Work Hours** option set.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f86ce-121">Lorsque vous ajoutez un champ à plusieurs entités, utilisez le même nom de champ dans toutes les entités.</span><span class="sxs-lookup"><span data-stu-id="f86ce-121">When you add a field to more than one entity, use the same field name across all of the entities.</span></span> 

> ![Ajout de l’emplacement de travail des ressources dans le prix de rôle](media/RWL-Field.png)

<span data-ttu-id="f86ce-123">Dans les phases de ventes et d’estimation d’un projet, les estimations de l’effort de travail sont requises pour effectuer le travail **Local** et **Sur le site**, et les **Heures régulières** et **Heures supplémentaires**, sont utilisées pour évaluer la valeur du devis/projet.</span><span class="sxs-lookup"><span data-stu-id="f86ce-123">In the sales and estimation phases for a project, estimates of the work effort that is required to complete **Local** and **Onsite** work, in **Regular hours** and **Overtime hours**  are used to estimate the value of the Quote/Project.</span></span> <span data-ttu-id="f86ce-124">Les champs **Emplacement de travail des ressources** et **Heures de travail des ressources** sont ajoutés aux entités d’estimation, **Détail de la ligne de devis**, **Détails de la ligne de contrat**, **Tâche de projet**, **Membre de l’équipe du projet**, puis **Ligne d’estimation**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-124">The fields **Resource Work Location** and **Resource Work Hours** will be added to the estimation entities, **Quote Line Detail**, **Contract Line detail**, **Project Task**, **Project Team Member**, and **Estimate Line**.</span></span>

1. <span data-ttu-id="f86ce-125">Dans PSA, cliquez sur **Paramètres** > **Solutions**, puis double-cliquez sur **Dimensions Tarification \<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-125">In PSA, click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="f86ce-126">Dans l’Explorateur de solutions, sur le volet de navigation de gauche, sélectionnez **Entités > Détail de la ligne de devis**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-126">In Solution Explorer, on the left navigation pane, select **Entities > Quote Line Detail**.</span></span>
3. <span data-ttu-id="f86ce-127">Développez l’entité **Détail de la ligne de devis**, et sélectionnez **Champs**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-127">Expand the **Quote Line Detail** entity, and select **Fields**.</span></span>
4. <span data-ttu-id="f86ce-128">Cliquez sur **Nouveau** pour créer un champ nommé **Emplacement de travail des ressources** et sélectionnez le type de champ **Jeu d’options**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-128">Click **New** to create a new field called **Resource Work Location** and select the field type, **Option set**.</span></span> 
5. <span data-ttu-id="f86ce-129">Sélectionnez **Utiliser un jeu d’options existant** et **Emplacement de travail des ressources**, puis cliquez sur **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-129">Select **Use an existing Option set** and **Resource Work Location**, and then click **Save**.</span></span>
6. <span data-ttu-id="f86ce-130">Répétez les étapes 1 à 5 pour ajouter ce champ aux entités **Détails de la ligne de contrat de projet**, **Tâche de projet**, **Membre de l’équipe de projet** et **Ligne d’estimation**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-130">Repeat steps 1 - 5 to add this field to the **Project Contract line detail**,**Project Task**, **Project Team Member**, and **Estimate Line** entities.</span></span>
7. <span data-ttu-id="f86ce-131">Répétez les étapes 1 à 6 du jeu d’options **Heures de travail des ressources**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-131">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

> ![Ajout de l’emplacement de travail des ressources dans Ligne d’estimation](media/RWL-Default-Value.png)


<span data-ttu-id="f86ce-133">Pour la livraison et la facturation, le travail effectué doit avoir le prix exact pour sélectionner si c’était **Local** ou **Sur le site**, et si effectué pendant les **Heures régulières** ou en **Heures supplémentaires** par rapport aux chiffres réels du projet.</span><span class="sxs-lookup"><span data-stu-id="f86ce-133">For delivery and invoicing, completed work needs to be accurately priced to select whether it was performed **Local** or **Onsite**, and whether it was completed during **Regular hours** or **Overtime** on the Project Actuals.</span></span> <span data-ttu-id="f86ce-134">Les champs **Emplacement de travail des ressources** et **Heures de travail des ressources** doivent être ajoutés aux entités **Entrée de temps**, **Chiffre réel**, **Détail de la ligne de facture**, et **Ligne de journal**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-134">The **Resource Work Location** and **Resource Work hours** fields should be added to the **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line** entities.</span></span>

1. <span data-ttu-id="f86ce-135">Dans PSA, cliquez sur **Paramètres** > **Solutions**, puis double-cliquez sur **Dimensions Tarification \<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-135">In PSA, click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span>
2. <span data-ttu-id="f86ce-136">Dans l’Explorateur de solutions, sur le volet de navigation de gauche, sélectionnez **Entités > Entrée de temps**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-136">In Solution Explorer, on the left navigation pane, select  **Entities > Time Entry**.</span></span>
3. <span data-ttu-id="f86ce-137">Développez l’entité **Détail de la ligne de devis**, puis sélectionnez **Champs**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-137">Expand the **Quote Line Detail** entity, and then select **Fields**.</span></span>
4. <span data-ttu-id="f86ce-138">Cliquez sur **Nouveau** pour créer un champ nommé **Emplacement de travail des ressources** et sélectionnez **Jeu d’options** comme type de champ.</span><span class="sxs-lookup"><span data-stu-id="f86ce-138">Click **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="f86ce-139">Sélectionnez **Utiliser un jeu d’options existant**, sélectionnez le jeu d’options **Emplacement de travail des ressources**, puis cliquez sur **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-139">Select **Use an existing Option set**, select the **Resource Work Location** option set, and then click **Save**.</span></span>
6. <span data-ttu-id="f86ce-140">Répétez les étapes 1 à 5 pour ajouter ce champ aux entités **Chiffre réel**, **Détail de la ligne de facture**, et **Ligne de journal**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-140">Repeat steps 1 - 5 to add this field to the **Actual**, **Invoice Line Detail**, and **Journal Line** entities.</span></span>
7. <span data-ttu-id="f86ce-141">Répétez les étapes 1 à 6 du jeu d’options **Heures de travail des ressources**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-141">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

> ![Ajout de l’emplacement de travail des ressources à Entrée de temps](media/RWL-time-entry.png)

<span data-ttu-id="f86ce-143">Cela termine les modifications de schéma requises pour les dimensions personnalisées basées sur un jeu d’options.</span><span class="sxs-lookup"><span data-stu-id="f86ce-143">This completes the schema changes required for option set-based custom dimensions.</span></span>

## <a name="entity-based-custom-pricing-dimensions"></a><span data-ttu-id="f86ce-144">Dimensions de tarification personnalisées basées sur une entité</span><span class="sxs-lookup"><span data-stu-id="f86ce-144">Entity-based custom pricing dimensions</span></span>

<span data-ttu-id="f86ce-145">Lorsque la dimension personnalisée de tarification est une entité, vous ajoutez une relation 1 à N entre l’entité de dimension et les entités Project Service principales.</span><span class="sxs-lookup"><span data-stu-id="f86ce-145">When the custom pricing dimension is an entity, you will add 1:N relationships between the dimension entity and key Project Service entities.</span></span> <span data-ttu-id="f86ce-146">Avec l’exemple de titre standard ci-dessus, il est logique de prévoir que chaque employé se voit attribuer un titre standard.</span><span class="sxs-lookup"><span data-stu-id="f86ce-146">Using the Standard Title example from above, it is reasonable to expect that each employee is assigned a standard title.</span></span> <span data-ttu-id="f86ce-147">Par conséquent, vous devez disposer d’une relation 1 à N entre le Titre standard et la Ressource réservable, ou une relation N à 1, si elle a été créée entre la Ressource réservable et le Titre standard.</span><span class="sxs-lookup"><span data-stu-id="f86ce-147">SAs a result, you will need a 1:N relationship from Standard Title to Bookable Resource, or a N:1 relationship if it were created from Bookable Resource to Standard Title.</span></span>

1. <span data-ttu-id="f86ce-148">Dans PSA, cliquez sur **Paramètres** > **Solutions**, puis double-cliquez sur **Dimensions Tarification \<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-148">In PSA, click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="f86ce-149">Dans l’Explorateur de solutions, sur le volet de navigation de gauche, sélectionnez **Entités > Titre standard**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-149">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
3. <span data-ttu-id="f86ce-150">Développez l’entité **Titre standard** et sélectionnez **Relation 1 à N**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-150">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
4. <span data-ttu-id="f86ce-151">Cliquez sur **Nouveau** pour créer une Relation 1 à N appelée **Titre standard à Ressource réservable**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-151">Click **New** to create a new 1:N relationship called **Standard Title to Bookable Resource**.</span></span> <span data-ttu-id="f86ce-152">Entrez les informations requises, puis cliquez sur **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-152">Enter the required information, and then click **Save**.</span></span>

> ![Ajout du Titre standard en tant que champ de référence dans la Ressource réservable](media/ST-BR.png)

<span data-ttu-id="f86ce-154">Le Titre standard devra également être ajouté aux entités Tarification de Project Service, **Prix du rôle** et **Majoration les prix de rôle**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-154">The Standard Title will also need to be added to Project Service Pricing entities, **Role Price** and **Role Price Markup**.</span></span> <span data-ttu-id="f86ce-155">Cette opération s’effectue également à l’aide de Relations 1 à N entre les entités **Titre standard** et **Prix du rôle** et les entités **Titre standard** et **Majoration du prix de rôle**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-155">This is also completed using 1:N relationships between the **Standard Title** and **Role Price** entities and **Standard Title** and **Role Price Markup** entities.</span></span>

1. <span data-ttu-id="f86ce-156">Dans l’Explorateur de solutions, sur le volet de navigation de gauche, sélectionnez **Entités > Titre standard**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-156">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="f86ce-157">Développez l’entité **Titre standard** et sélectionnez **Relation 1 à N**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-157">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="f86ce-158">Cliquez sur **Nouveau** pour créer une Relation 1 à N appelée **Titre standard à Prix du rôle**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-158">Click **New** to create a new 1:N relationship called **Standard Title to Role Price**.</span></span> <span data-ttu-id="f86ce-159">Entrez les informations requises, puis cliquez sur **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-159">Enter the required information, and then click **Save**.</span></span>
4. <span data-ttu-id="f86ce-160">Répétez les étapes 1 à 4 pour créer des relations 1 à N entre les entités **Titre standard** et **Majoration les prix de rôle**,</span><span class="sxs-lookup"><span data-stu-id="f86ce-160">Repeat steps 1 - 4 to create 1:N relationships between the **Standard Title** and **Role Price Markup** entities,</span></span>

<span data-ttu-id="f86ce-161">Dans les phases de ventes et d’estimation du projet, pour évaluer le devis/projet, des estimations de l’effort de travail sont requises pour chaque titre standard.</span><span class="sxs-lookup"><span data-stu-id="f86ce-161">In the sales and estimation phases for the project, to price the Quote/Project, estimates of the work effort are required for each standard title.</span></span> <span data-ttu-id="f86ce-162">Cela signifie que les relations 1 à N entre le Titre standard et chacune de ces entités d’estimation dans Project Service sont nécessaires :</span><span class="sxs-lookup"><span data-stu-id="f86ce-162">This means that 1:N relationships from Standard Title to each of these estimation entities in Project Service are needed:</span></span> 

- <span data-ttu-id="f86ce-163">**Détail de la ligne de devis**</span><span class="sxs-lookup"><span data-stu-id="f86ce-163">**Quote line Detail**</span></span>
- <span data-ttu-id="f86ce-164">**Détail de la ligne de contrat du projet**</span><span class="sxs-lookup"><span data-stu-id="f86ce-164">**Project Contract Line Detail**</span></span>
- <span data-ttu-id="f86ce-165">**Tâche du projet**</span><span class="sxs-lookup"><span data-stu-id="f86ce-165">**Project Task**</span></span>
- <span data-ttu-id="f86ce-166">**Membre de l’équipe du projet**</span><span class="sxs-lookup"><span data-stu-id="f86ce-166">**Project Team Member**</span></span>
- <span data-ttu-id="f86ce-167">**Ligne d’estimation**</span><span class="sxs-lookup"><span data-stu-id="f86ce-167">**Estimate Line**</span></span>

5. <span data-ttu-id="f86ce-168">Répétez les étapes 1 à 5 pour créer des relations 1 à N entre **Titre standard** et **Détail de la ligne de devis**, **Détail de la ligne de contrat du projet**, **Tâche de projet**, **Membre de l’équipe du projet** et **Ligne d’estimation**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-168">Repeat steps 1 - 5 to create 1:N relationships from **Standard Title** to **Quote line Detail**, **Project Contract Line Detail**, **Project Task**, **Project Team Member**, and **Estimate Line**.</span></span>

> ![Ajout du Titre standard en tant que champ de référence dans la Ligne d’estimation](media/ST-Estimate-Line.png)

<span data-ttu-id="f86ce-170">Au cours des phases de livraison et de facturation, le travail effectué par chaque titre standard doit être tarifé exactement dans les chiffres réels du projet.</span><span class="sxs-lookup"><span data-stu-id="f86ce-170">In the Delivery and Invoicing phases, the work completed by each standard title must be accurately priced on the Project Actuals.</span></span> <span data-ttu-id="f86ce-171">Cela signifie qu’il faut des relations 1 à N entre **Titre standard** et **Entrée de temps**, **Chiffre réel**, **Détail de la ligne de facture**, et **Entités de ligne du journal**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-171">This means that there needs to be 1:N relationships from **Standard Title** to **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line entities**.</span></span>

6. <span data-ttu-id="f86ce-172">Répétez les étapes 1 à 6 pour créer des relations 1 à N entre **Titre standard** et **Entrée de temps**, **Chiffre réel**, **Détail de la ligne de facture**, et **Entités de ligne du journal**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-172">Repeat steps 1 - 6 to create 1:N relationships from **Standard Title** to **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line entities**.</span></span>

> ![Ajout du Titre standard en tant que champ de référence dans l’Entrée de temps](media/ST-Mapping.png)

### <a name="set-up-dimension-value-defaulting-using-the-mappings-features-of-the-platform"></a><span data-ttu-id="f86ce-174">Configuration de la valeur par défaut de Dimension à l’aide des fonctionnalités de mappages de la plateforme</span><span class="sxs-lookup"><span data-stu-id="f86ce-174">Set up Dimension value defaulting using the mappings features of the platform</span></span>
<span data-ttu-id="f86ce-175">Pour Entrée de temps, il est utile d’avoir la valeur système par défaut du titre standard sur l’Entrée de temps à partir de la Ressource réservable qui enregistre l’entrée de temps.</span><span class="sxs-lookup"><span data-stu-id="f86ce-175">For Time Entry, it would be helpful to have the system default the standard title on the Time Entry from the Bookable Resource that is recording the time entry.</span></span> <span data-ttu-id="f86ce-176">Suivez les étapes ci-dessous pour ajouter des mappages de champs sur la relation 1 à N entre **Ressource pouvant être réservée** et **Entrée de temps**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-176">Use the following steps to add field mappings on the 1:N relationship from **Bookable Resource** to **Time Entry**.</span></span>

1. <span data-ttu-id="f86ce-177">Dans l’Explorateur de solutions, sur le volet de navigation de gauche, sélectionnez **Entités > Titre standard**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-177">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="f86ce-178">Développez l’entité **Titre standard** et sélectionnez **Relation 1 à N**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-178">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="f86ce-179">Double-cliquez sur **Ressource pouvant être réservée à Entrée de temps**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-179">Double-click **Bookable Resource to Time Entry**.</span></span> <span data-ttu-id="f86ce-180">Dans la page **Relation**, cliquez sur **Utiliser les mappages de champs**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-180">On the **Relationship** page, click **Use Field mappings**.</span></span> 
4. <span data-ttu-id="f86ce-181">Cliquez sur **Nouveau** pour créer un mappage de champs entre le champ **Titre standard** sur l’entité **Ressource pouvant être réservée** et le champ de référence **Titre standard** sur l’entité **Entrée de temps**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-181">Click **New** to create a new field mapping between the **Standard Title** field on the **Bookable Resource** entity to the **Standard Title** reference field on **Time Entry** entity.</span></span> 

> ![Configurer les mappages de champs pour permettre d’utiliser Titre standard comme valeur par défaut entre Ressource réservable et Entrée de temps](media/ST-Mapping2.png)


<span data-ttu-id="f86ce-183">Cela termine les modifications de schéma requises pour les dimensions personnalisées basées sur une entité.</span><span class="sxs-lookup"><span data-stu-id="f86ce-183">This completes the schema changes required for entity-based custom dimensions.</span></span>

##  <a name="add-custom-fields-to-forms-views-and-business-rules"></a><span data-ttu-id="f86ce-184">Ajouter des champs personnalisés aux formulaires, aux vues et aux règles métier</span><span class="sxs-lookup"><span data-stu-id="f86ce-184">Add custom fields to forms, views, and business rules</span></span>

<span data-ttu-id="f86ce-185">Après avoir apporté toutes les modifications requises au schéma, l’étape suivante consiste à rendre les champs visibles dans l’interface utilisateur en ajoutant les champs aux formulaires et aux vues.</span><span class="sxs-lookup"><span data-stu-id="f86ce-185">After you have made all of the required schema changes, the next step is to make the fields visible in the UI by adding the fields to the forms and views.</span></span>

1. <span data-ttu-id="f86ce-186">Ouvrez le formulaire ou la vue.</span><span class="sxs-lookup"><span data-stu-id="f86ce-186">Open the form or the view.</span></span> <span data-ttu-id="f86ce-187">Dans le volet de navigation droit, sélectionnez le champ et faites-le glisser sur le canevas de formulaire.</span><span class="sxs-lookup"><span data-stu-id="f86ce-187">On the right navigation pane, select the field and drag it on to the form canvas.</span></span> 
2. <span data-ttu-id="f86ce-188">Si vous modifiez une vue, utilisez le volet de navigation droit, cliquez sur **Ajouter des champs**, puis dans la boîte de dialogue **Liste des champs**, sélectionnez les champs dont vous avez besoin et cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-188">If you are editing a view, use the right navigation pane, click **Add fields**, and in the **Field listing** dialog box, select the fields that you need and click **Ok**.</span></span>

<span data-ttu-id="f86ce-189">Le tableau suivant fournit une liste complète des formulaires et vues prédéfinis, par entité, qui doivent être mis à jour avec les nouveaux champs.</span><span class="sxs-lookup"><span data-stu-id="f86ce-189">The following table provides a comprehensive list of out-of-the-box forms and views, by entity, that will need to be updated with the new fields.</span></span> <span data-ttu-id="f86ce-190">Si vous disposez de vues ou formulaires supplémentaires dans vos personnalisations de ces entités, ajoutez-y également les nouveaux champs.</span><span class="sxs-lookup"><span data-stu-id="f86ce-190">If you have any additional views or forms in your customizations on these entities, add the new fields to those as well.</span></span>

| <span data-ttu-id="f86ce-191">Entité Project Service</span><span class="sxs-lookup"><span data-stu-id="f86ce-191">Project Service Entity</span></span>        | <span data-ttu-id="f86ce-192">Formulaires qui nécessitent le nouveau champ</span><span class="sxs-lookup"><span data-stu-id="f86ce-192">Forms that need the new field</span></span>   |<span data-ttu-id="f86ce-193">Vues qui nécessitent le nouveau champ</span><span class="sxs-lookup"><span data-stu-id="f86ce-193">Views that need the new field</span></span>      |
| ------------------------------|---------------------------------|----------------------------------|
|  <span data-ttu-id="f86ce-194">Prix du rôle</span><span class="sxs-lookup"><span data-stu-id="f86ce-194">Role Price</span></span>|<span data-ttu-id="f86ce-195">• Informations</span><span class="sxs-lookup"><span data-stu-id="f86ce-195">• Information</span></span> |<span data-ttu-id="f86ce-196">• Prix de la catégorie de ressource actifs</span><span class="sxs-lookup"><span data-stu-id="f86ce-196">• Active Resource Category Prices</span></span><br> <span data-ttu-id="f86ce-197">• Vue associée Prix de la catégorie de ressource</span><span class="sxs-lookup"><span data-stu-id="f86ce-197">• Resource Category Price Associated View</span></span>|
|  <span data-ttu-id="f86ce-198">Majoration du prix du rôle</span><span class="sxs-lookup"><span data-stu-id="f86ce-198">Role Price Markup</span></span>|<span data-ttu-id="f86ce-199">• Informations</span><span class="sxs-lookup"><span data-stu-id="f86ce-199">• Information</span></span>|<span data-ttu-id="f86ce-200">• Majorations du prix du rôle actives</span><span class="sxs-lookup"><span data-stu-id="f86ce-200">• Active Role Price Markup</span></span><br><span data-ttu-id="f86ce-201">• Vue associée Majoration du prix du rôle</span><span class="sxs-lookup"><span data-stu-id="f86ce-201">• Role Price Markup Associated View</span></span>|
|  <span data-ttu-id="f86ce-202">Détail de la ligne de devis</span><span class="sxs-lookup"><span data-stu-id="f86ce-202">Quote line detail</span></span>|<span data-ttu-id="f86ce-203">• Informations sur le projet</span><span class="sxs-lookup"><span data-stu-id="f86ce-203">• Project Information</span></span><br><span data-ttu-id="f86ce-204">• Création rapide de projets</span><span class="sxs-lookup"><span data-stu-id="f86ce-204">• Project Quick Create</span></span>|<span data-ttu-id="f86ce-205">• Détail de la ligne de devis active</span><span class="sxs-lookup"><span data-stu-id="f86ce-205">• Active Quote Line Detail</span></span><br><span data-ttu-id="f86ce-206">• Détails de la ligne de devis combinée</span><span class="sxs-lookup"><span data-stu-id="f86ce-206">• Combined Quote Line Details</span></span><br><span data-ttu-id="f86ce-207">• Vue associée Détail de la ligne de devis</span><span class="sxs-lookup"><span data-stu-id="f86ce-207">• Quote Line Detail associated view</span></span>|
|  <span data-ttu-id="f86ce-208">Détail de la ligne de contrat du projet</span><span class="sxs-lookup"><span data-stu-id="f86ce-208">Project Contract line detail</span></span>|<span data-ttu-id="f86ce-209">• Informations sur le projet</span><span class="sxs-lookup"><span data-stu-id="f86ce-209">• Project Information</span></span><br><span data-ttu-id="f86ce-210">• Création rapide de projets</span><span class="sxs-lookup"><span data-stu-id="f86ce-210">• Project Quick Create</span></span>|<span data-ttu-id="f86ce-211">• Détails de la ligne de contrat combinée</span><span class="sxs-lookup"><span data-stu-id="f86ce-211">• Combined Contract Line Details</span></span><br><span data-ttu-id="f86ce-212">• Détails de la ligne de contrat active</span><span class="sxs-lookup"><span data-stu-id="f86ce-212">• Active Contract Line Details</span></span><br><span data-ttu-id="f86ce-213">• Vue associée aux détails de la ligne de contrat</span><span class="sxs-lookup"><span data-stu-id="f86ce-213">• Contract Line Details Associated View</span></span>|
|  <span data-ttu-id="f86ce-214">Tâche du projet</span><span class="sxs-lookup"><span data-stu-id="f86ce-214">Project Task</span></span>|<span data-ttu-id="f86ce-215">• Informations</span><span class="sxs-lookup"><span data-stu-id="f86ce-215">• Information</span></span><br><span data-ttu-id="f86ce-216">• Nouveau formulaire</span><span class="sxs-lookup"><span data-stu-id="f86ce-216">• New Form</span></span>||
|  <span data-ttu-id="f86ce-217">Membre de l’équipe du projet</span><span class="sxs-lookup"><span data-stu-id="f86ce-217">Project Team Member</span></span>|<span data-ttu-id="f86ce-218">• Informations</span><span class="sxs-lookup"><span data-stu-id="f86ce-218">• Information</span></span><br><span data-ttu-id="f86ce-219">• Nouveau formulaire</span><span class="sxs-lookup"><span data-stu-id="f86ce-219">• New Form</span></span>|<span data-ttu-id="f86ce-220">• Membres de l’équipe du projet actifs</span><span class="sxs-lookup"><span data-stu-id="f86ce-220">• Active Project Team Members</span></span><br><span data-ttu-id="f86ce-221">• Membres de l’équipe du projet</span><span class="sxs-lookup"><span data-stu-id="f86ce-221">• Project Team Members</span></span><br><span data-ttu-id="f86ce-222">• Vue associée Membres de l’équipe du projet</span><span class="sxs-lookup"><span data-stu-id="f86ce-222">• Project Team members associated View</span></span>|
|  <span data-ttu-id="f86ce-223">Entrée de temps</span><span class="sxs-lookup"><span data-stu-id="f86ce-223">Time Entry</span></span>|<span data-ttu-id="f86ce-224">• Informations</span><span class="sxs-lookup"><span data-stu-id="f86ce-224">• Information</span></span><br><span data-ttu-id="f86ce-225">• Créer une entrée de temps</span><span class="sxs-lookup"><span data-stu-id="f86ce-225">• Create Time Entry</span></span>|<span data-ttu-id="f86ce-226">• Mes entrées de temps par date</span><span class="sxs-lookup"><span data-stu-id="f86ce-226">• My Time Entries By Date</span></span><br><span data-ttu-id="f86ce-227">• Mes entrées de temps pour cette semaine</span><span class="sxs-lookup"><span data-stu-id="f86ce-227">• My time Entries for this week</span></span><br><span data-ttu-id="f86ce-228">• Entrées des temps pour approbation</span><span class="sxs-lookup"><span data-stu-id="f86ce-228">• Time entries for approval</span></span>|
|  <span data-ttu-id="f86ce-229">Ligne de journal</span><span class="sxs-lookup"><span data-stu-id="f86ce-229">Journal Line</span></span>|<span data-ttu-id="f86ce-230">• Informations</span><span class="sxs-lookup"><span data-stu-id="f86ce-230">• Information</span></span><br><span data-ttu-id="f86ce-231">• Création rapide</span><span class="sxs-lookup"><span data-stu-id="f86ce-231">• Quick create</span></span>|<span data-ttu-id="f86ce-232">• Lignes de journal actives</span><span class="sxs-lookup"><span data-stu-id="f86ce-232">• Active journal lines</span></span><br><span data-ttu-id="f86ce-233">• Vue associée Ligne de journal</span><span class="sxs-lookup"><span data-stu-id="f86ce-233">• Journal Line associated view</span></span>|
|  <span data-ttu-id="f86ce-234">Détail de la ligne de facture</span><span class="sxs-lookup"><span data-stu-id="f86ce-234">Invoice Line Detail</span></span>|<span data-ttu-id="f86ce-235">• Informations</span><span class="sxs-lookup"><span data-stu-id="f86ce-235">• Information</span></span><br><span data-ttu-id="f86ce-236">• Création rapide</span><span class="sxs-lookup"><span data-stu-id="f86ce-236">• Quick create</span></span>|<span data-ttu-id="f86ce-237">• Détails de la ligne de facture active</span><span class="sxs-lookup"><span data-stu-id="f86ce-237">• Active Invoice Line Details</span></span><br><span data-ttu-id="f86ce-238">• Transactions facturables</span><span class="sxs-lookup"><span data-stu-id="f86ce-238">• Chargeable Invoice Transactions</span></span><br><span data-ttu-id="f86ce-239">• Transactions gratuites</span><span class="sxs-lookup"><span data-stu-id="f86ce-239">• Complimentary Invoice Transactions</span></span><br><span data-ttu-id="f86ce-240">• Vue associée Détails de la ligne de facture</span><span class="sxs-lookup"><span data-stu-id="f86ce-240">• Invoice Line Detail associated view</span></span><br><span data-ttu-id="f86ce-241">• Transactions non facturables</span><span class="sxs-lookup"><span data-stu-id="f86ce-241">• Non-Chargeable Invoice Transactions</span></span>|
|  <span data-ttu-id="f86ce-242">Chiffre réel</span><span class="sxs-lookup"><span data-stu-id="f86ce-242">Actual</span></span>|<span data-ttu-id="f86ce-243">• Informations</span><span class="sxs-lookup"><span data-stu-id="f86ce-243">• Information</span></span><br><span data-ttu-id="f86ce-244">• Chiffres réels actifs</span><span class="sxs-lookup"><span data-stu-id="f86ce-244">• Active Actuals</span></span>|<span data-ttu-id="f86ce-245">• Vue associée Chiffre réel</span><span class="sxs-lookup"><span data-stu-id="f86ce-245">• Actual Associated view</span></span>|

<span data-ttu-id="f86ce-246">Les champs personnalisés peuvent également être ajoutés aux règles métier selon ce que vous avez défini.</span><span class="sxs-lookup"><span data-stu-id="f86ce-246">Custom fields may also need to be added on business rules depending on what you have defined.</span></span> <span data-ttu-id="f86ce-247">Un exemple prêt à l’emploi concerne le **Caractère modifiable de l’entrée de temps basé sur le statut** de la règle métier.</span><span class="sxs-lookup"><span data-stu-id="f86ce-247">One out-of-the-box example is for the business rule **Editability of Time Entry based on status**.</span></span> <span data-ttu-id="f86ce-248">Cette règle définit les champs devant être verrouillés lorsque l’entrée de temps a un statut non modifiable, comme **Approuvé**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-248">This rule defines which fields need to be locked when the Time Entry is in a non-editable status such as **Approved**.</span></span> <span data-ttu-id="f86ce-249">Ajoutez des champs à cette règle métier de sorte que les champs soient verrouillés en modification lorsque l’entrée de temps a un état autre que **Brouillon** ou **Renvoyé**.</span><span class="sxs-lookup"><span data-stu-id="f86ce-249">Add fields to this business rule so that the fields are locked for editing when the Time Entry is in a status other than **Draft** or **Returned**.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]