---
title: 'Considérations relatives à la mise à niveau : Microsoft Dynamics 365 Project Service Automation version 2.x ou 1.x vers la version 3'
description: Cette rubrique donne des informations sur les considérations que vous devez prendre en compte lors de la mise à niveau de Project Service Automation version 2.x ou 1.x vers la version 3.
ms.prod: ''
ms.custom:
- dyn365-projectservice
ms.date: 11/13/2018
ms.topic: article
author: JohnPBurrows
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: 04ae6aa3ef6a14a6f85dce3eaa5af01e0adce9ba
ms.sourcegitcommit: 40f68387f594180af64a5e5c748b6efa188bd300
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/10/2021
ms.locfileid: "6014878"
---
# <a name="upgrade-considerations---psa-version-2x-or-1x-to-version-3"></a><span data-ttu-id="950c9-103">Considérations relatives à la mise à niveau - PSA version 2.x ou 1.x vers la version 3</span><span class="sxs-lookup"><span data-stu-id="950c9-103">Upgrade considerations - PSA version 2.x or 1.x to version 3</span></span>

[!include [banner](../includes/psa-now-project-operations.md)]

[!INCLUDE[cc-applies-to-psa-app-1x-2x](../includes/cc-applies-to-psa-app-1x-2x.md)]

## <a name="project-service-automation-and-field-service"></a><span data-ttu-id="950c9-104">Project Service Automation et Field Service</span><span class="sxs-lookup"><span data-stu-id="950c9-104">Project Service Automation and Field Service</span></span>
<span data-ttu-id="950c9-105">Dynamics 365 Project Service Automation et Dynamics 365 Field Service utilisent la solution Universal Resourcing Scheduling (URS) pour la planification des ressources.</span><span class="sxs-lookup"><span data-stu-id="950c9-105">Both Dynamics 365 Project Service Automation and Dynamics 365 Field Service use the Universal Resourcing Scheduling (URS) solution for resource scheduling.</span></span> <span data-ttu-id="950c9-106">Si vous disposez de Project Service Automation et Field Service dans votre instance, mettez-les à niveau vers la version la plus récente.</span><span class="sxs-lookup"><span data-stu-id="950c9-106">If you have Project Service Automation and Field Service in your instance, upgrade both solutions to the latest version.</span></span> <span data-ttu-id="950c9-107">Pour Project Service Automation c’est la version 3.x.</span><span class="sxs-lookup"><span data-stu-id="950c9-107">For Project Service Automation, that is version 3.x.</span></span> <span data-ttu-id="950c9-108">Pour Field Service, il s’agit de la version 8.x.</span><span class="sxs-lookup"><span data-stu-id="950c9-108">For Field Service, it is version 8.x.</span></span> <span data-ttu-id="950c9-109">La mise à niveau de Project Service Automation ou Field Service installera la dernière version d’URS.</span><span class="sxs-lookup"><span data-stu-id="950c9-109">Upgrading Project Service Automation or Field Service will install the latest version of URS.</span></span> <span data-ttu-id="950c9-110">Si les solutions Project Service Automation et Field Service de la même instance ne sont pas mises à niveau vers la dernière version, il peut y avoir un comportement incohérent.</span><span class="sxs-lookup"><span data-stu-id="950c9-110">If both the Project Service Automation and Field Service solutions in the same instance aren’t upgraded to the latest version, there might be some inconsistent behavior.</span></span>

## <a name="resource-assignments"></a><span data-ttu-id="950c9-111">Attributions de ressources</span><span class="sxs-lookup"><span data-stu-id="950c9-111">Resource assignments</span></span>
<span data-ttu-id="950c9-112">Dans Project Service Automation version 2 et version 1, les affectations de tâches étaient stockées en tant que tâches enfants (également appelées tâches de ligne) dans l’entité **Tâche**, et indirectement associées à l’entité **Affectation de ressource**.</span><span class="sxs-lookup"><span data-stu-id="950c9-112">In Project Service Automation version 2 and version 1, task assignments were stored as child tasks (also called line tasks) in the **Task entity**, and indirectly related to the **Resource Assignment** entity.</span></span> <span data-ttu-id="950c9-113">La tâche de ligne était visible dans la fenêtre contextuelle d’affectation de la structure de répartition du travail (WBS).</span><span class="sxs-lookup"><span data-stu-id="950c9-113">The line task was visible in the assignment pop-up window on the Work Breakdown Structure (WBS).</span></span>

![Tâches de ligne de WBS dans Project Service Automation version 2 et version 1](media/upgrade-line-task-01.png)

<span data-ttu-id="950c9-115">Dans la version 3 de Project Service Automation, le schéma sous-jacent d’affectation de ressources réservables aux tâches a été modifié.</span><span class="sxs-lookup"><span data-stu-id="950c9-115">In version 3 of Project Service Automation, the underlying schema of assigning bookable resources to tasks has changed.</span></span> <span data-ttu-id="950c9-116">La tâche de ligne a été déconseillée et il existe une relation directe de type 1:1 entre la tâche dans l’entité **Tâche** et le membre de l’équipe dans l’entité **Affectation de ressource**.</span><span class="sxs-lookup"><span data-stu-id="950c9-116">The line task has been deprecated and there is a direct 1:1 relationship between the task in the **Task entity** and the team member in the **Resource Assignment** entity.</span></span> <span data-ttu-id="950c9-117">Les tâches qui sont affectées à un membre de l’équipe du projet sont maintenant stockées directement dans l’entité Affectation de ressource.</span><span class="sxs-lookup"><span data-stu-id="950c9-117">Tasks that are assigned to a project team member are now stored directly in the Resource Assignment entity.</span></span>  

<span data-ttu-id="950c9-118">Ces modifications ont une incidence sur la mise à niveau des projets existants qui ont des affectations de ressources pour les ressources réservables nommées et les ressources génériques d’une équipe du projet.</span><span class="sxs-lookup"><span data-stu-id="950c9-118">These changes impact the upgrade of any existing projects that have resource assignments for named bookable resources and generic resources on a project team.</span></span> <span data-ttu-id="950c9-119">Cette rubrique décrit les considérations vous devrez prendre en compte pour vos projets lors de la mise à niveau vers la version 3.</span><span class="sxs-lookup"><span data-stu-id="950c9-119">This topic provides the considerations that you will need to take into account for your projects when you upgrade to version 3.</span></span> 

### <a name="tasks-assigned-to-named-resources"></a><span data-ttu-id="950c9-120">Tâches affectées aux ressources nommées</span><span class="sxs-lookup"><span data-stu-id="950c9-120">Tasks assigned to named resources</span></span>
<span data-ttu-id="950c9-121">À l’aide de l’entité Tâche sous-jacente, les tâches dans la version 2 et la version 1 autorisaient les membres de l’équipe à utiliser un rôle autre que leur rôle défini par défaut.</span><span class="sxs-lookup"><span data-stu-id="950c9-121">Using the underlying task entity, tasks in version 2 and version 1 allowed team members to portray a role other than their default defined role.</span></span> <span data-ttu-id="950c9-122">Par exemple, Charline Gauthier, à qui est affectée par défaut le rôle de Gestionnaire de programmes, pouvait être affectée à une tâche avec le rôle de Développeur.</span><span class="sxs-lookup"><span data-stu-id="950c9-122">For example, Gracie George, who’s by default assigned the role of Program Manager, could be assigned to a task with the role of Developer.</span></span> <span data-ttu-id="950c9-123">Dans la version 3, le rôle d’un membre de l’équipe nommé est toujours la valeur par défaut. Ainsi, toute tâche affectée à Charline Gauthier utilise son rôle par défaut de Gestionnaire de programmes.</span><span class="sxs-lookup"><span data-stu-id="950c9-123">In version 3, the role of a named team member is always the default, so any task that Gracie George is assigned to uses Gracie's default role of Program Manager.</span></span>

<span data-ttu-id="950c9-124">Si vous avez affecté une ressource à une tâche en dehors de son rôle par défaut dans la version 2 et la version 1, lorsque vous effectuez une mise à niveau, le rôle par défaut est affecté à la ressource nommée pour toutes les affectations de tâches, quelle que soit l’affectation de rôle dans la version 2.</span><span class="sxs-lookup"><span data-stu-id="950c9-124">If you have assigned a resource to a task outside of their default role in version 2 and version 1, when you upgrade, the named resource will be assigned the default role for all task assignments, regardless of role assignment in version 2.</span></span> <span data-ttu-id="950c9-125">Cette affectation entraînera des différences dans les estimations calculées de la version 2 ou version 1 vers la version 3, car les estimations sont calculées en fonction du rôle de la ressource au lieu de l’affectation de tâches de ligne.</span><span class="sxs-lookup"><span data-stu-id="950c9-125">This assignment results in differences in the calculated estimates from version 2 or version 1 to version 3 because estimates are calculated based on the role of the resource and not the line task assignment.</span></span> <span data-ttu-id="950c9-126">Par exemple, dans la version 2, deux tâches ont été affectées à Astrid Lang.</span><span class="sxs-lookup"><span data-stu-id="950c9-126">For example, in version 2, two tasks have been assigned to Ashley Chinn.</span></span> <span data-ttu-id="950c9-127">Le rôle sur la tâche de ligne pour la tâche 1 est Développeur et pour la tâche 2, Gestionnaire de programmes.</span><span class="sxs-lookup"><span data-stu-id="950c9-127">The role on the line task for task 1 is Developer and for task 2, Program Manager.</span></span> <span data-ttu-id="950c9-128">Astrid Lang a le rôle par défaut de Gestionnaire de programmes.</span><span class="sxs-lookup"><span data-stu-id="950c9-128">Ashley Chinn has the default role of Program Manager.</span></span>

![Rôles multiples affectés à une ressource](media/upgrade-multiple-roles-02.png)

<span data-ttu-id="950c9-130">Étant donné que les rôles de Développeur et de Gestionnaire de programmes diffèrent, les estimations de coût et de vente se présentent comme suit :</span><span class="sxs-lookup"><span data-stu-id="950c9-130">Because the roles of Developer and Program Manager differ, the cost and sales estimates are as follows:</span></span>

![Estimations de coût pour les rôles de ressource](media/upggrade-cost-estimates-03.png)

![Estimations de vente pour les rôles de ressource](media/upgrade-sales-estimates-04.png)

<span data-ttu-id="950c9-133">Lorsque vous effectuez une mise à niveau vers la version 3, les tâches de ligne sont remplacées par des affectations de ressources sur la tâche du membre de l’équipe pour la ressource réservable.</span><span class="sxs-lookup"><span data-stu-id="950c9-133">When you upgrade to version 3, line tasks are replaced with resource assignments on the task of the bookable resource team member.</span></span> <span data-ttu-id="950c9-134">L’affectation utilise le rôle par défaut de la ressource réservable.</span><span class="sxs-lookup"><span data-stu-id="950c9-134">The assignment will use the default role of the bookable resource.</span></span> <span data-ttu-id="950c9-135">Dans le graphique suivant, Astrid Lang qui a le rôle de Gestionnaire de programmes, est la ressource.</span><span class="sxs-lookup"><span data-stu-id="950c9-135">In the following graphic, Ashley Chinn who has a role of Program Manager, is the resource.</span></span>

![Affectations de ressources](media/resource-assignment-v2-05.png)

<span data-ttu-id="950c9-137">Comme les estimations sont basées sur le rôle par défaut de la ressource, les estimations de vente et de coût peuvent changer.</span><span class="sxs-lookup"><span data-stu-id="950c9-137">Because the estimates are based on the default role for the resource, the sales and cost estimates may change.</span></span> <span data-ttu-id="950c9-138">Dans le graphique suivant, le rôle **Développeur** ne s’affiche plus, car il est maintenant extrait du rôle par défaut de la ressource réservable.</span><span class="sxs-lookup"><span data-stu-id="950c9-138">In the following graphic, you no longer see the **Developer** role as the role is now taken from the bookable resource’s default role.</span></span>

<span data-ttu-id="950c9-139">![Estimations de coût pour les rôles par défaut](media/resource-assignment-cost-estimate-06.png)
![Estimations de vente pour les rôles par défaut](media/resource-assignment-sales-estimate-07.png)</span><span class="sxs-lookup"><span data-stu-id="950c9-139">![Cost estimates for default roles](media/resource-assignment-cost-estimate-06.png)
![Sales estimate for default roles](media/resource-assignment-sales-estimate-07.png)</span></span>

<span data-ttu-id="950c9-140">Une fois la mise à niveau terminée, vous pouvez modifier le rôle d’un membre de l’équipe en un rôle autre que celui affecté par défaut.</span><span class="sxs-lookup"><span data-stu-id="950c9-140">After upgrade is complete, you can edit a team member's role to be something other than the assigned default.</span></span> <span data-ttu-id="950c9-141">Toutefois, si vous modifiez le rôle d’un membre de l’équipe, cette modification est appliquée à toutes les tâches qui lui sont affectées, car les membres de l’équipe ne peuvent plus avoir plusieurs rôles dans la version 3.</span><span class="sxs-lookup"><span data-stu-id="950c9-141">However, if you change a team members role, it will be changed on all of their assigned tasks because team members can't be assigned multiple roles in version 3.</span></span>

![Mise à jour du rôle d’une ressource](media/resource-role-assignment-08.png)

<span data-ttu-id="950c9-143">Cette procédure s’applique également aux tâches de ligne qui ont été affectées aux ressources nommées lorsque vous modifiez l’unité d’organisation par défaut de la ressource en une autre unité d’organisation.</span><span class="sxs-lookup"><span data-stu-id="950c9-143">This is also true for line tasks that were assigned to named resources when you change the resource’s organization unit from the default to another organization unit.</span></span> <span data-ttu-id="950c9-144">Une fois la mise à niveau vers la version 3 terminée, l’affectation utilise l’unité d’organisation par défaut de la ressource au lieu de celle définie sur la tâche de ligne.</span><span class="sxs-lookup"><span data-stu-id="950c9-144">After the version 3 upgrade is complete, the assignment will use the resource’s default organization unit instead of the one set on the line task.</span></span>

### <a name="tasks-assigned-to-generic-resources"></a><span data-ttu-id="950c9-145">Tâches affectées aux ressources génériques</span><span class="sxs-lookup"><span data-stu-id="950c9-145">Tasks assigned to generic resources</span></span>
<span data-ttu-id="950c9-146">Dans la version 2 et la version 1, vous pouvez définir le rôle et l’unité d’organisation d’une tâche puis utiliser la fonctionnalité **Générer l’équipe** pour générer les ressources génériques en fonction des attributs définis sur la tâche.</span><span class="sxs-lookup"><span data-stu-id="950c9-146">In version 2 and version 1, you can set the role and org unit on a task and then use the **Generate team** feature to generate generic resources based on the attributes set on the task.</span></span> <span data-ttu-id="950c9-147">Dans la version 3, vous créez les membres de l’équipe générique avec un rôle et une unité d’organisation, puis affectez les membres de l’équipe à des tâches.</span><span class="sxs-lookup"><span data-stu-id="950c9-147">In version 3, you create the generic team members with role and org unit, and then assign the team members to tasks.</span></span>

<span data-ttu-id="950c9-148">Dans la version 2 et la version 1, les projets avec des ressources génériques peuvent avoir deux états, ou une combinaison des deux au niveau de la tâche.</span><span class="sxs-lookup"><span data-stu-id="950c9-148">In version 2 and version 1, projects with generic resources can be in two states, or a mix of both at the task level.</span></span> <span data-ttu-id="950c9-149">Par exemple, les scénarios suivants sont possibles :</span><span class="sxs-lookup"><span data-stu-id="950c9-149">For example, you can have the following scenarios:</span></span>

- <span data-ttu-id="950c9-150">Des tâches avec des rôles et des unités d’organisation définis, mais aucune affectation de ressource affiliée n’a été générée.</span><span class="sxs-lookup"><span data-stu-id="950c9-150">Tasks with roles and org units set, but no affiliated resource assignment has been generated.</span></span>
- <span data-ttu-id="950c9-151">Des tâches avec des affectations de ressources aux membres de l’équipe qui ont été générées en créant une ressource générique à l’aide de la fonctionnalité **Générer l’équipe**.</span><span class="sxs-lookup"><span data-stu-id="950c9-151">Tasks with generic team member resource assignments that were assigned by creating generic resource using the **Generate team** feature.</span></span>

<span data-ttu-id="950c9-152">Avant de commencer la mise à niveau, il est recommandé de régénérer l’équipe pour chaque projet contenant des tâches affectées aux ressources génériques ou d’exécuter le processus Générer l’équipe sur celles-ci.</span><span class="sxs-lookup"><span data-stu-id="950c9-152">Before you begin your upgrade, we recommend that you regenerate the team for each project that has tasks assigned to generic resources or has yet to have the generate team process run on them.</span></span>

<span data-ttu-id="950c9-153">Pour les tâches affectées aux membres de l’équipe générique qui ont été générées avec l’option **Générer l’équipe**, la mise à niveau conserve la ressource générique de l’équipe ainsi que l’affectation à ce membre de l’équipe générique.</span><span class="sxs-lookup"><span data-stu-id="950c9-153">For tasks that are assigned to generic team members that were generated with **Generate Team**, the upgrade will leave the generic resource on the team and leave the assignment to that generic team member.</span></span> <span data-ttu-id="950c9-154">Il est recommandé de générer les ressources requises pour le membre de l’équipe générique après la mise à niveau mais avant de réserver ou d’envoyer une demande de ressources.</span><span class="sxs-lookup"><span data-stu-id="950c9-154">We recommend that you generate the resource requirement for the generic team member after the upgrade but before you book or submit a resource request.</span></span> <span data-ttu-id="950c9-155">Cela préserve les affectations d’unité d’organisation des membres de l’équipe générique qui sont différentes de l’unité d’organisation contractuelle du projet.</span><span class="sxs-lookup"><span data-stu-id="950c9-155">This will preserve any org unit assignments on the generic team members that are different than the project’s contracting org unit.</span></span>

<span data-ttu-id="950c9-156">Par exemple, dans le projet Project Z, l’unité d’organisation contractuelle est Contoso US.</span><span class="sxs-lookup"><span data-stu-id="950c9-156">For example, in the Project Z project, the contracting org unit is Contoso US.</span></span> <span data-ttu-id="950c9-157">Dans le plan du projet, les tâches de test dans la phase de mise en œuvre ont été affectées au rôle Consultant technique et l’unité d’organisation affectée est Contoso Inde.</span><span class="sxs-lookup"><span data-stu-id="950c9-157">In the project plan, testing tasks within the Implementation phase have been assigned the role Technical Consultant and the assigned org unit is Contoso India.</span></span>

![Affectation d’organisation dans la phase de mise en œuvre](media/org-unit-assignment-09.png)

<span data-ttu-id="950c9-159">Après la phase de mise en œuvre, la tâche de test de l’intégration est affectée au rôle Consultant technique, mais l’organisation est définie sur Contoso US.</span><span class="sxs-lookup"><span data-stu-id="950c9-159">After the implementation phase, the integration test task is assigned to the role Technical consultant, but the org is set to Contoso US.</span></span>  

![Affectation d’organisation pour la tâche de test de l’intégration](media/org-unit-generate-team-10.png)

<span data-ttu-id="950c9-161">Lorsque vous générez une équipe pour le projet, deux membres de l’équipe générique sont créés en raison des différentes unités d’organisation des tâches.</span><span class="sxs-lookup"><span data-stu-id="950c9-161">When you generate a team for the project, two generic team members are created due to the different org units on the tasks.</span></span> <span data-ttu-id="950c9-162">Les tâches de Contoso Inde sont affectées au consultant technique 1 et les tâches de Contoso US au consultant technique 2.</span><span class="sxs-lookup"><span data-stu-id="950c9-162">Technical consultant 1 will be assigned the Contoso India tasks and Technical consultant 2 will have the Contoso US tasks.</span></span>  

![Membres de l’équipe générique générés](media/org-unit-assignments-multiple-resources-11.png)

> [!NOTE]
> <span data-ttu-id="950c9-164">Dans Project Service Automation version 2 et version 1, le membre de l’équipe ne détient pas l’unité d’organisation, qui est conservée sur la tâche de ligne.</span><span class="sxs-lookup"><span data-stu-id="950c9-164">In Project Service Automation version 2 and version 1, the team member does not hold the organization unit, that is maintained on the line task.</span></span>

![Tâches de ligne dans la version 2 et la version 1 de Project Service Automation](media/line-tasks-12.png)

<span data-ttu-id="950c9-166">L’unité d’organisation est visible sur la vue des estimations.</span><span class="sxs-lookup"><span data-stu-id="950c9-166">You can see the organization unit on the estimates view.</span></span> 

![Estimations de l’unité d’organisation](media/org-unit-estimates-view-13.png)
 
<span data-ttu-id="950c9-168">Lorsque la mise à niveau est terminée, l’unité d’organisation sur la tâche de ligne correspondant au membre de l’équipe générique est ajoutée au membre de l’équipe générique et la tâche de ligne est supprimée.</span><span class="sxs-lookup"><span data-stu-id="950c9-168">When the upgrade is complete, the organization unit on the line task that corresponds to the generic team member is added to the generic team member and the line task is removed.</span></span> <span data-ttu-id="950c9-169">C’est pourquoi il est recommandé, avant la mise à niveau, de générer ou de régénérer l’équipe sur chaque projet contenant des ressources génériques.</span><span class="sxs-lookup"><span data-stu-id="950c9-169">Because of this, we recommend that before you upgrade, you generate or regenerate the team on each project that contains generic resources.</span></span>

<span data-ttu-id="950c9-170">Pour les tâches qui sont affectées à un rôle avec une unité d’organisation différente de celle du projet contractuel, et une équipe n’a pas été générée, la mise à niveau crée un membre de l’équipe générique pour le rôle, mais utilise l’unité contractuelle du projet pour l’unité d’organisation du membre de l’équipe.</span><span class="sxs-lookup"><span data-stu-id="950c9-170">For tasks that are assigned to a role with an org unit that differs from the org unit of the contracting project, and a team has not been generated, upgrade will create a generic team member for the role, but will use the contracting unit of the project for the team member's org unit.</span></span> <span data-ttu-id="950c9-171">Si l’on reprend l’exemple avec le projet Project Z, l’unité d’organisation contractuelle Contoso US et les tâches de test du plan du projet dans la phase de mise en œuvre ont été affectées au rôle Consultant technique avec l’unité d’organisation affectée à Contoso Inde.</span><span class="sxs-lookup"><span data-stu-id="950c9-171">Referring back to the example with Project Z, the contracting org unit Contoso US, and the project plan testing tasks within the Implementation phase have been assigned the role Technical Consultant with the org unit assigned to Contoso India.</span></span> <span data-ttu-id="950c9-172">La tâche de test de l’intégration qui est effectuée après la phase de mise en œuvre a été affectée au rôle Consultant technique.</span><span class="sxs-lookup"><span data-stu-id="950c9-172">The Integration test task that is completed after the Implementation phase has been assigned to the role Technical consultant.</span></span> <span data-ttu-id="950c9-173">L’unité d’organisation est Contoso US et une équipe n’a pas été générée.</span><span class="sxs-lookup"><span data-stu-id="950c9-173">The org unit is Contoso US and a team has not been generated.</span></span> <span data-ttu-id="950c9-174">La mise à niveau crée un membre de l’équipe générique, un consultant technique avec les heures affectées des trois tâches et une unité d’organisation Contoso US, qui est l’unité d’organisation contractuelle du projet.</span><span class="sxs-lookup"><span data-stu-id="950c9-174">Upgrade will create one generic team member, a Technical consultant that has the assigned hours of all three tasks, and an org unit of Contoso US, the project’s contracting org unit.</span></span>   
 
<span data-ttu-id="950c9-175">La modification de la valeur par défaut des différentes unités d’organisation des membres de l’équipe non générés est la raison pour laquelle il est recommandé de générer ou de régénérer l’équipe sur chaque projet contenant des ressources génériques avant la mise à niveau afin que les affectations d’unité d’organisation ne soient pas perdues.</span><span class="sxs-lookup"><span data-stu-id="950c9-175">Changing the default of the different resourcing org units on ungenerated team members is the reason we recommend that you generate or regenerate the team on each project that contains generic resources prior to the upgrade so that the org unit assignments are not lost.</span></span>



[!INCLUDE[footer-include](../includes/footer-banner.md)]