---
title: Synchronisation des contrats de projet et des projets directement depuis Project Service Automation vers Finance
description: Cette rubrique décrit le modèle et les tâches sous-jacentes qui sont utilisés pour synchroniser les contrats de projet et les projets directement à partir de Microsoft Dynamics 365 Project Service Automation vers Dynamics 365 Finance.
author: Yowelle
ms.date: 12/17/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations
ms.custom: 87983
ms.assetid: b454ad57-2fd6-46c9-a77e-646de4153067
ms.search.region: Global
ms.author: andchoi
ms.search.validFrom: 2017-12-13
ms.dyn365.ops.version: AX 7.3.0
ms.openlocfilehash: 2f5fa0143c903f08b3937426805cb43d5d6109e3
ms.sourcegitcommit: 40f68387f594180af64a5e5c748b6efa188bd300
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/10/2021
ms.locfileid: "5999803"
---
# <a name="synchronize-project-contracts-and-projects-directly-from-project-service-automation-to-finance"></a><span data-ttu-id="0d540-103">Synchronisation des contrats de projet et des projets directement depuis Project Service Automation vers Finance</span><span class="sxs-lookup"><span data-stu-id="0d540-103">Synchronize project contracts and projects directly from Project Service Automation to Finance</span></span> 

[!include[banner](../includes/banner.md)]

[!include [rename-banner](~/includes/cc-data-platform-banner.md)]

<span data-ttu-id="0d540-104">Cette rubrique décrit le modèle et les tâches sous-jacentes qui sont utilisés pour synchroniser les contrats de projet et les projets directement à partir de Dynamics 365 Project Service Automation vers Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="0d540-104">This topic describes the template and underlying tasks that are used to synchronize project contracts and projects directly from Dynamics 365 Project Service Automation to Dynamics 365 Finance.</span></span>

> [!NOTE] 
> <span data-ttu-id="0d540-105">Si vous utilisez Enterprise Edition 7.3.0, vous devez installer KB 4074835.</span><span class="sxs-lookup"><span data-stu-id="0d540-105">If you're using Enterprise edition 7.3.0, you must install KB 4074835.</span></span>

## <a name="data-flow-for-project-service-automation-to-finance"></a><span data-ttu-id="0d540-106">Flux de données pour Project Service Automation vers Finance</span><span class="sxs-lookup"><span data-stu-id="0d540-106">Data flow for Project Service Automation to Finance</span></span>

> [!NOTE]
> <span data-ttu-id="0d540-107">Avant de pouvoir utiliser la solution d’intégration Project Service Automation vers Finance, vous devez bien connaître la fonctionnalité d’intégration de données Dynamics 365.</span><span class="sxs-lookup"><span data-stu-id="0d540-107">Before you can use the Project Service Automation to Finance integration solution, you should be familiar with the Dynamics 365 Data integration feature.</span></span>

<span data-ttu-id="0d540-108">La solution d’intégration Project Service Automation vers Finance utilise la fonction d’intégration de données pour synchroniser les données entre les instances de Project Service Automation et Finance.</span><span class="sxs-lookup"><span data-stu-id="0d540-108">The Project Service Automation to Finance integration solution uses the Data integration feature to synchronize data across instances of Project Service Automation and Finance.</span></span> <span data-ttu-id="0d540-109">Le modèle d’intégration disponible avec la fonctionnalité d’intégration de données permet le flux de données sur les contrats de projet, les projets et les lignes de contrat de projet, sans oublier les jalons de ligne de contrat de projet depuis Project Service Automation vers Finance.</span><span class="sxs-lookup"><span data-stu-id="0d540-109">The integration template that is available with the Data integration feature enables the flow of data about project contracts, projects, project contract lines, and project contract line milestones from Project Service Automation to Finance.</span></span>

<span data-ttu-id="0d540-110">L’illustration suivante montre comment les données sont synchronisées entre Project Service Automation et Finance.</span><span class="sxs-lookup"><span data-stu-id="0d540-110">The following illustration shows how the data is synchronized between Project Service Automation and Finance.</span></span>

<span data-ttu-id="0d540-111">[![Flux de données pour l’intégration de Project Service Automation avec Finance](./media/ProjectsAndContractsFlow_upd.JPG)](./media/ProjectsAndContractsFlow.JPG)</span><span class="sxs-lookup"><span data-stu-id="0d540-111">[![Data flow for Project Service Automation integration with Finance](./media/ProjectsAndContractsFlow_upd.JPG)](./media/ProjectsAndContractsFlow.JPG)</span></span>

## <a name="templates-and-tasks"></a><span data-ttu-id="0d540-112">Modèles et tâches</span><span class="sxs-lookup"><span data-stu-id="0d540-112">Templates and tasks</span></span>

<span data-ttu-id="0d540-113">Pour accéder aux modèles disponibles, dans le centre d’administration Microsoft Power Apps, sélectionnez **Projets**, puis, dans le coin supérieur droit, sélectionnez **Nouveau projet** pour sélectionner des modèles publics.</span><span class="sxs-lookup"><span data-stu-id="0d540-113">To access the available templates, in the Microsoft Power Apps admin center, select **Projects**, and then, in the upper-right corner, select **New project** to select public templates.</span></span>

<span data-ttu-id="0d540-114">Les modèles et les tâches sous-jacentes suivants sont utilisés pour synchroniser les projets de contrat et les projets de Project Service Automation vers Finance :</span><span class="sxs-lookup"><span data-stu-id="0d540-114">The following templates and underlying tasks are used to synchronize project contracts and projects from Project Service Automation to Finance:</span></span>

### <a name="integrating-with-dynamics-365-project-service-automation-v2x"></a><span data-ttu-id="0d540-115">Intégration avec Dynamics 365 Project Service Automation v2.x</span><span class="sxs-lookup"><span data-stu-id="0d540-115">Integrating with Dynamics 365 Project Service Automation v2.x</span></span>
- <span data-ttu-id="0d540-116">**Nom du modèle dans l’intégration de données :** Projets et contrats (Project Service Automation vers Finance)</span><span class="sxs-lookup"><span data-stu-id="0d540-116">**Name of the template in Data integration:** Projects and contracts (Project Service Automation to Finance)</span></span>
- <span data-ttu-id="0d540-117">**Nom des tâches dans le projet :**</span><span class="sxs-lookup"><span data-stu-id="0d540-117">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="0d540-118">Contrats de projet Project Service Automation vers Finance</span><span class="sxs-lookup"><span data-stu-id="0d540-118">Project contracts Project Service Automation to Finance</span></span>
    - <span data-ttu-id="0d540-119">Projets Project Service Automation vers Finance</span><span class="sxs-lookup"><span data-stu-id="0d540-119">Projects Project Service Automation to Finance</span></span>
    - <span data-ttu-id="0d540-120">Lignes de contrats de projet Project Service Automation vers Finance</span><span class="sxs-lookup"><span data-stu-id="0d540-120">Project contract lines Project Service Automation to Finance</span></span>
    - <span data-ttu-id="0d540-121">Jalons de lignes de contrats de projet Project Service Automation vers Finance</span><span class="sxs-lookup"><span data-stu-id="0d540-121">Project contract line milestones Project Service Automation to Finance</span></span>
  
### <a name="integrating-with-dynamics-365-project-service-automation-v3x"></a><span data-ttu-id="0d540-122">Intégration avec Dynamics 365 Project Service Automation v3.x</span><span class="sxs-lookup"><span data-stu-id="0d540-122">Integrating with Dynamics 365 Project Service Automation v3.x</span></span>
<span data-ttu-id="0d540-123">Il y a un changement de schéma dans Project Service Automation qui a un impact sur le modèle de jalon de ligne de contrat de projet et l’utilisation de la version v2 du modèle est requise pour intégrer Project Service Automation v3.x à Dynamics 365.</span><span class="sxs-lookup"><span data-stu-id="0d540-123">There is a schema change in Project Service Automation that impacts the Project contract line milestone template and use of the v2 version of the template is required to integrate Project Service Automation v3.x with Dynamics 365.</span></span>

- <span data-ttu-id="0d540-124">**Nom du modèle dans l’intégration de données :** Projets et contrats (Project Service Automation 3.x vers Finance) – v2</span><span class="sxs-lookup"><span data-stu-id="0d540-124">**Name of the template in Data integration:** Projects and Contracts (Project Service Automation 3.x to Finance) - v2</span></span>
- <span data-ttu-id="0d540-125">**Nom des tâches dans le projet :**</span><span class="sxs-lookup"><span data-stu-id="0d540-125">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="0d540-126">Contrats de projet Project Service Automation vers Finance</span><span class="sxs-lookup"><span data-stu-id="0d540-126">Project contracts Project Service Automation to Finance</span></span>
    - <span data-ttu-id="0d540-127">Projets Project Service Automation vers Finance</span><span class="sxs-lookup"><span data-stu-id="0d540-127">Projects Project Service Automation to Finance</span></span>
    - <span data-ttu-id="0d540-128">Lignes de contrats de projet Project Service Automation vers Finance</span><span class="sxs-lookup"><span data-stu-id="0d540-128">Project contract lines Project Service Automation to Finance</span></span>
    - <span data-ttu-id="0d540-129">Jalons de lignes de contrats de projet Project Service Automation vers Finance</span><span class="sxs-lookup"><span data-stu-id="0d540-129">Project contract line milestones Project Service Automation to Finance</span></span>

<span data-ttu-id="0d540-130">Avant que la synchronisation des contrats de projet et des projets puisse avoir lieu, vous devez synchroniser les comptes.</span><span class="sxs-lookup"><span data-stu-id="0d540-130">Before synchronization of project contracts and projects can occur, you must synchronize accounts.</span></span>

## <a name="entity-set"></a><span data-ttu-id="0d540-131">Ensemble d’entités</span><span class="sxs-lookup"><span data-stu-id="0d540-131">Entity set</span></span>

| <span data-ttu-id="0d540-132">Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="0d540-132">Project Service Automation</span></span>       | <span data-ttu-id="0d540-133">Finances</span><span class="sxs-lookup"><span data-stu-id="0d540-133">Finance</span></span>                                                |
|----------------------------------|--------------------------------------------------------|
| <span data-ttu-id="0d540-134">Commandes</span><span class="sxs-lookup"><span data-stu-id="0d540-134">Orders</span></span>                           | <span data-ttu-id="0d540-135">Entité d’intégration pour le contrat de projet</span><span class="sxs-lookup"><span data-stu-id="0d540-135">Integration entity for project contract</span></span>                |
| <span data-ttu-id="0d540-136">Projets</span><span class="sxs-lookup"><span data-stu-id="0d540-136">Projects</span></span>                         | <span data-ttu-id="0d540-137">Entité d’intégration pour le projet</span><span class="sxs-lookup"><span data-stu-id="0d540-137">Integration entity for project</span></span>                         |
| <span data-ttu-id="0d540-138">Lignes de commande</span><span class="sxs-lookup"><span data-stu-id="0d540-138">Order lines</span></span>                      | <span data-ttu-id="0d540-139">Entité d’intégration pour la ligne de contrat de projet</span><span class="sxs-lookup"><span data-stu-id="0d540-139">Integration entity for project contract line</span></span>           |
| <span data-ttu-id="0d540-140">Jalons de la ligne de contrat du projet</span><span class="sxs-lookup"><span data-stu-id="0d540-140">Project contract line milestones</span></span> | <span data-ttu-id="0d540-141">Entité d’intégration pour le jalon de ligne de contrat de projet</span><span class="sxs-lookup"><span data-stu-id="0d540-141">Integration entity for project contract line milestone</span></span> |

## <a name="entity-flow"></a><span data-ttu-id="0d540-142">Flux d’entité</span><span class="sxs-lookup"><span data-stu-id="0d540-142">Entity flow</span></span>

<span data-ttu-id="0d540-143">Les contrats de projet sont gérés dans Project Service Automation et synchronisés vers Finance en tant que contrats de projet.</span><span class="sxs-lookup"><span data-stu-id="0d540-143">Project contracts are managed in Project Service Automation, and they are synchronized to Finance as project contracts.</span></span> <span data-ttu-id="0d540-144">Dans le cadre du modèle d’intégration, vous pouvez définir la source d’intégration dans Finance pour le contrat de projet.</span><span class="sxs-lookup"><span data-stu-id="0d540-144">As part of the integration template, you can set the integration source in Finance for the project contract.</span></span>

<span data-ttu-id="0d540-145">Le temps, le matériel et les projets à prix fixe sont gérés dans Project Service Automation et synchronisés avec Finance en tant que projets.</span><span class="sxs-lookup"><span data-stu-id="0d540-145">Time and material and fixed-price projects are managed in Project Service Automation and synchronized to Finance as projects.</span></span> <span data-ttu-id="0d540-146">Dans le cadre de l’intégration du modèle, vous pouvez définir la source d’intégration du projet dans Finance.</span><span class="sxs-lookup"><span data-stu-id="0d540-146">As part of the template integration, you can set the integration source for the project in Finance.</span></span> <span data-ttu-id="0d540-147">Actuellement, seuls les projets de durée et de matériel et à prix fixe sont pris en charge.</span><span class="sxs-lookup"><span data-stu-id="0d540-147">Currently, only time and material and fixed-price projects are supported.</span></span>


<span data-ttu-id="0d540-148">Les lignes de contrat de projet sont gérées dans Project Service Automation et synchronisées vers Finance en tant que règles de facturation de contrat.</span><span class="sxs-lookup"><span data-stu-id="0d540-148">Project contract lines are managed in Project Service Automation, and they are synchronized to Finance as project contract billing rules.</span></span> <span data-ttu-id="0d540-149">Si la méthode de facturation diffère du type de projet par défaut, la synchronisation met à jour le type de projet pour le projet de ligne de contrat et le groupe de projets.</span><span class="sxs-lookup"><span data-stu-id="0d540-149">If the billing method differs from the default project type, the synchronization updates the project type for the contract line project and project group.</span></span>

<span data-ttu-id="0d540-150">Les jalons de ligne de contrat de projet sont gérées dans Project Service Automation et synchronisées vers Finance en tant que jalons de règles de facturation de contrat.</span><span class="sxs-lookup"><span data-stu-id="0d540-150">Project contract line milestones are managed in Project Service Automation, and they are synchronized to Finance as project contract billing rule milestones.</span></span>

## <a name="project-service-automation-to-finance-integration-solution"></a><span data-ttu-id="0d540-151">Solution d’intégration de Project Service Automation vers Finance</span><span class="sxs-lookup"><span data-stu-id="0d540-151">Project Service Automation to Finance integration solution</span></span>

<span data-ttu-id="0d540-152">Le champ **ID du contrat de projet** est disponible sur la page **Contrats de projet**.</span><span class="sxs-lookup"><span data-stu-id="0d540-152">The **Project contract ID** field is available on the **Project contracts** page.</span></span> <span data-ttu-id="0d540-153">Ce champ est devenu une clé naturelle et unique pour soutenir l’intégration.</span><span class="sxs-lookup"><span data-stu-id="0d540-153">This field has been made a natural and unique key to support the integration.</span></span>

<span data-ttu-id="0d540-154">Lorsqu’un nouveau contrat de projet est créé, si une valeur **ID du contrat de projet** n’existe pas déjà, elle est automatiquement générée à l’aide d’une séquence de nombres.</span><span class="sxs-lookup"><span data-stu-id="0d540-154">When a new project contract is created, if a **Project contract ID** value doesn't already exist, it's automatically generated by using a number sequence.</span></span> <span data-ttu-id="0d540-155">La valeur se compose de **ORD** suivi d’une séquence numérique incrémentielle, puis d’un suffixe de six caractères.</span><span class="sxs-lookup"><span data-stu-id="0d540-155">The value consists of **ORD** followed by an incrementing number sequence and then a suffix of six characters.</span></span> <span data-ttu-id="0d540-156">Prenons un exemple : **ORD-01022-Z4M9Q0**.</span><span class="sxs-lookup"><span data-stu-id="0d540-156">Here is an example: **ORD-01022-Z4M9Q0**.</span></span>

<span data-ttu-id="0d540-157">Le champ **Numéro de projet** est disponible sur la page **Projets**.</span><span class="sxs-lookup"><span data-stu-id="0d540-157">The **Project Number** field is available on the **Projects** page.</span></span> <span data-ttu-id="0d540-158">Ce champ est devenu une clé naturelle et unique pour soutenir l’intégration.</span><span class="sxs-lookup"><span data-stu-id="0d540-158">This field has been made a natural and unique key to support the integration.</span></span>

<span data-ttu-id="0d540-159">Lorsqu’un nouveau projet est créé, si une valeur **Numéro de projet** n’existe pas déjà, elle est automatiquement générée à l’aide d’une séquence de nombres.</span><span class="sxs-lookup"><span data-stu-id="0d540-159">When a new project is created, if a **Project Number** value doesn't already exist, it's automatically generated by using a number sequence.</span></span> <span data-ttu-id="0d540-160">La valeur se compose de **PRJ** suivi d’une séquence numérique incrémentielle, puis d’un suffixe de six caractères.</span><span class="sxs-lookup"><span data-stu-id="0d540-160">The value consists of **PRJ** followed by an incrementing number sequence and then a suffix of six characters.</span></span> <span data-ttu-id="0d540-161">Prenons un exemple : **PRJ-01049-CCNID0**.</span><span class="sxs-lookup"><span data-stu-id="0d540-161">Here is an example: **PRJ-01049-CCNID0**.</span></span>

<span data-ttu-id="0d540-162">Lorsque la solution d’intégration Project Service Automation vers Finance est appliquée, un script de mise à niveau définit le champ **ID du contrat de projet** pour les contrats de projet existants et le champ **Numéro de projet** pour les projets existants dans Project Service Automation.</span><span class="sxs-lookup"><span data-stu-id="0d540-162">When the Project Service Automation to Finance integration solution is applied, an upgrade script sets the **Project contract ID** field for existing project contracts and the **Project Number** field for existing projects in Project Service Automation.</span></span>

## <a name="prerequisites-and-mapping-setup"></a><span data-ttu-id="0d540-163">Prérequis et configuration de mappage</span><span class="sxs-lookup"><span data-stu-id="0d540-163">Prerequisites and mapping setup</span></span>

- <span data-ttu-id="0d540-164">Avant que la synchronisation des contrats de projet et des projets puisse avoir lieu, vous devez synchroniser les comptes.</span><span class="sxs-lookup"><span data-stu-id="0d540-164">Before synchronization of project contracts and projects can occur, you must synchronize accounts.</span></span>
- <span data-ttu-id="0d540-165">Dans votre jeu de connexions, ajoutez un mappage de champ de clé d’intégration pour **msdyn\_organizationalunits** à **msdyn\_name \[Name\]**.</span><span class="sxs-lookup"><span data-stu-id="0d540-165">In your connection set, add an integration key field mapping for **msdyn\_organizationalunits** to **msdyn\_name \[Name\]**.</span></span> <span data-ttu-id="0d540-166">Vous devrez peut-être d’abord ajouter un projet à l’ensemble de connexions.</span><span class="sxs-lookup"><span data-stu-id="0d540-166">You might first need to add a project to the connection set.</span></span> <span data-ttu-id="0d540-167">Pour plus d’informations, consultez [Intégrer les données dans Common Data Service pour les applications](/powerapps/administrator/data-integrator).</span><span class="sxs-lookup"><span data-stu-id="0d540-167">For more information, see [Integrate data into Common Data Service for Apps](/powerapps/administrator/data-integrator).</span></span>
- <span data-ttu-id="0d540-168">Dans votre jeu de connexions, ajoutez un mappage de champ de clé d’intégration pour **msdyn\_projects** à **msdynce\_projectnumber \[Project Number\]**.</span><span class="sxs-lookup"><span data-stu-id="0d540-168">In your connection set, add an integration key field mapping for **msdyn\_projects** to **msdynce\_projectnumber \[Project Number\]**.</span></span> <span data-ttu-id="0d540-169">Vous devrez peut-être d’abord ajouter un projet à l’ensemble de connexions.</span><span class="sxs-lookup"><span data-stu-id="0d540-169">You might first need to add a project to the connection set.</span></span> <span data-ttu-id="0d540-170">Pour plus d’informations, consultez [Intégrer les données dans Common Data Service pour les applications](/powerapps/administrator/data-integrator).</span><span class="sxs-lookup"><span data-stu-id="0d540-170">For more information, see [Integrate data into Common Data Service for Apps](/powerapps/administrator/data-integrator).</span></span>
- <span data-ttu-id="0d540-171">**SourceDataID** pour les contrats de projet et les projets peuvent être mis à jour à une valeur différente ou supprimés du mappage.</span><span class="sxs-lookup"><span data-stu-id="0d540-171">**SourceDataID** for project contracts and projects can be updated to a different value or removed from the mapping.</span></span> <span data-ttu-id="0d540-172">La valeur par défaut du modèle est **Project Service Automation**.</span><span class="sxs-lookup"><span data-stu-id="0d540-172">The default template value is **Project Service Automation**.</span></span>
- <span data-ttu-id="0d540-173">Le mappage **PaymentTerms** doit être mis à jour afin de refléter les conditions de paiement valides dans Finance.</span><span class="sxs-lookup"><span data-stu-id="0d540-173">The **PaymentTerms** mapping must be updated so that it reflects valid terms of payment in Finance.</span></span> <span data-ttu-id="0d540-174">Vous pouvez également supprimer le mappage de la tâche de projet.</span><span class="sxs-lookup"><span data-stu-id="0d540-174">You can also remove the mapping from the project task.</span></span> <span data-ttu-id="0d540-175">La carte de valeur par défaut a des valeurs par défaut pour les données de démonstration.</span><span class="sxs-lookup"><span data-stu-id="0d540-175">The default value map has default values for demo data.</span></span> <span data-ttu-id="0d540-176">Le tableau suivant montre les valeurs dans Project Service Automation.</span><span class="sxs-lookup"><span data-stu-id="0d540-176">The following table shows the values in Project Service Automation.</span></span>

    | <span data-ttu-id="0d540-177">Value</span><span class="sxs-lookup"><span data-stu-id="0d540-177">Value</span></span> | <span data-ttu-id="0d540-178">Description</span><span class="sxs-lookup"><span data-stu-id="0d540-178">Description</span></span>   |
    |-------|---------------|
    | <span data-ttu-id="0d540-179">1</span><span class="sxs-lookup"><span data-stu-id="0d540-179">1</span></span>     | <span data-ttu-id="0d540-180">Net 30J</span><span class="sxs-lookup"><span data-stu-id="0d540-180">Net 30</span></span>        |
    | <span data-ttu-id="0d540-181">2</span><span class="sxs-lookup"><span data-stu-id="0d540-181">2</span></span>     | <span data-ttu-id="0d540-182">2%% 10j, net 30j</span><span class="sxs-lookup"><span data-stu-id="0d540-182">2% 10, Net 30</span></span> |
    | <span data-ttu-id="0d540-183">3</span><span class="sxs-lookup"><span data-stu-id="0d540-183">3</span></span>     | <span data-ttu-id="0d540-184">Net 45J</span><span class="sxs-lookup"><span data-stu-id="0d540-184">Net 45</span></span>        |
    | <span data-ttu-id="0d540-185">4</span><span class="sxs-lookup"><span data-stu-id="0d540-185">4</span></span>     | <span data-ttu-id="0d540-186">Net 60J</span><span class="sxs-lookup"><span data-stu-id="0d540-186">Net 60</span></span>        |

## <a name="power-query"></a><span data-ttu-id="0d540-187">Power Query</span><span class="sxs-lookup"><span data-stu-id="0d540-187">Power Query</span></span>

<span data-ttu-id="0d540-188">Utilisez Microsoft Power Query pour Excel pour filtrer les données si les conditions suivantes sont remplies :</span><span class="sxs-lookup"><span data-stu-id="0d540-188">Use Microsoft Power Query for Excel to filter data if the following conditions are met:</span></span>

- <span data-ttu-id="0d540-189">Vous avez des commandes client dans Dynamics 365 Sales.</span><span class="sxs-lookup"><span data-stu-id="0d540-189">You have sales orders in Dynamics 365 Sales.</span></span>
- <span data-ttu-id="0d540-190">Vous disposez de plusieurs unités organisationnelles dans Project Service Automation, et ces unités organisationnelles seront mappées à plusieurs entités juridiques dans Finance.</span><span class="sxs-lookup"><span data-stu-id="0d540-190">You have multiple organizational units in Project Service Automation, and these organizational units will be mapped to multiple legal entities in Finance.</span></span>

<span data-ttu-id="0d540-191">Si vous devez utiliser Power Query, suivez ces instructions :</span><span class="sxs-lookup"><span data-stu-id="0d540-191">If you must use Power Query, follow these guidelines:</span></span>

- <span data-ttu-id="0d540-192">Le modèle Projets et contrats (PSA vers Fin and Ops) a un filtre par défaut qui inclut uniquement les commandes client de type **Élément de travail (msdyn\_ordertype = 192350001)**.</span><span class="sxs-lookup"><span data-stu-id="0d540-192">The Projects and contracts (PSA to Fin and Ops) template has a default filter that includes only sales orders of the **Work item (msdyn\_ordertype = 192350001)** type.</span></span> <span data-ttu-id="0d540-193">Ce filtre permet de garantir que les contrats de projet ne sont pas créés pour les commandes client dans Finance.</span><span class="sxs-lookup"><span data-stu-id="0d540-193">This filter helps guarantee that project contracts aren't created for sales orders in Finance.</span></span> <span data-ttu-id="0d540-194">Si vous créez votre propre modèle, vous devez ajouter ce filtre.</span><span class="sxs-lookup"><span data-stu-id="0d540-194">If you create your own template, you must add this filter.</span></span>
- <span data-ttu-id="0d540-195">Créez un filtre Power Query qui inclut uniquement les organisations contractuelles qui doivent être synchronisées avec l’entité juridique de l’ensemble de connexions d’intégration.</span><span class="sxs-lookup"><span data-stu-id="0d540-195">Create a Power Query filter that includes only the contract organizations that should be synchronized to the legal entity of the integration connection set.</span></span> <span data-ttu-id="0d540-196">Par exemple, les contrats de projet dont vous disposez avec l’unité d’organisation de contrat de Contoso États-Unis doivent être synchronisés avec l’entité juridique USSI, mais les contrats de projet dont vous disposez avec l’unité d’organisation de contrat de Contoso Global doivent être synchronisés avec l’entité juridique USMF.</span><span class="sxs-lookup"><span data-stu-id="0d540-196">For example, project contracts that you have with the contract organizational unit of Contoso US should be synchronized to the USSI legal entity, but project contracts that you have with the contract organizational unit of Contoso Global should be synchronized to the USMF legal entity.</span></span> <span data-ttu-id="0d540-197">Si vous n’ajoutez pas ce filtre à votre mappage de tâches, tous les contrats de projet seront synchronisés avec l’entité juridique définie pour l’ensemble de connexions, quelle que soit l’unité d’organisation du contrat.</span><span class="sxs-lookup"><span data-stu-id="0d540-197">If you don't add this filter to your task mapping, all project contracts will be synchronized to the legal entity that is defined for the connection set, regardless of the contract organizational unit.</span></span>

## <a name="template-mapping-in-data-integration"></a><span data-ttu-id="0d540-198">Mappage de modèles dans l’intégration de données</span><span class="sxs-lookup"><span data-stu-id="0d540-198">Template mapping in Data integration</span></span>

> [!NOTE] 
> <span data-ttu-id="0d540-199">Les champs **CustomerReference**, **AddressCity**, **AddressCountryRegionID**, **AddressDescription**, **AddressLine1**, **AddressLine2**, **AddressState** et **AddressZipCode** ne sont pas inclus dans le mappage par défaut des contrats de projet.</span><span class="sxs-lookup"><span data-stu-id="0d540-199">The **CustomerReference**, **AddressCity**, **AddressCountryRegionID**, **AddressDescription**, **AddressLine1**, **AddressLine2**, **AddressState**, and **AddressZipCode** fields aren't included in the default mapping for project contracts.</span></span> <span data-ttu-id="0d540-200">Vous pouvez ajouter les mappages si vous souhaitez que ces données soient synchronisées pour les contrats de projet.</span><span class="sxs-lookup"><span data-stu-id="0d540-200">You can add the mappings if you require that this data be synchronized for project contracts.</span></span>
>
> <span data-ttu-id="0d540-201">Les champs **Description**, **ParentID**, **ProjectGroup**, **ProjectManagerPersonnelNumber** et **ProjectType** ne sont pas inclus dans le mappage par défaut pour les projets.</span><span class="sxs-lookup"><span data-stu-id="0d540-201">The **Description**, **ParentID**, **ProjectGroup**, **ProjectManagerPersonnelNumber**, and **ProjectType** fields aren't included in the default mapping for projects.</span></span> <span data-ttu-id="0d540-202">Vous pouvez ajouter les mappages si vous souhaitez que ces données soient synchronisées pour les projets.</span><span class="sxs-lookup"><span data-stu-id="0d540-202">You can add the mappings if you require that this data be synchronized for projects.</span></span>

<span data-ttu-id="0d540-203">Les illustrations suivantes montrent des exemples de mappage de tâches de modèle dans l’intégration de données.</span><span class="sxs-lookup"><span data-stu-id="0d540-203">The following illustrations show examples of the template task mappings in Data integration.</span></span> <span data-ttu-id="0d540-204">Le mappage affiche les informations de champ qui seront synchronisées de Project Service Automation vers Finance.</span><span class="sxs-lookup"><span data-stu-id="0d540-204">The mapping shows the field information that will be synchronized from Project Service Automation to Finance.</span></span>

<span data-ttu-id="0d540-205">[![Mappage du modèle de contrat de projet](./media/ProjectContractTemplateMapping.JPG)](./media/ProjectContractTemplateMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="0d540-205">[![Project contract template mapping](./media/ProjectContractTemplateMapping.JPG)](./media/ProjectContractTemplateMapping.JPG)</span></span>

<span data-ttu-id="0d540-206">[![Mappage du modèle de projet](./media/ProjectTemplateMapping.JPG)](./media/ProjectTemplateMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="0d540-206">[![Project template mapping](./media/ProjectTemplateMapping.JPG)](./media/ProjectTemplateMapping.JPG)</span></span>

<span data-ttu-id="0d540-207">[![Mappage du modèle des lignes de contrat de projet](./media/ProjectContractLinesMapping.JPG)](./media/ProjectContractLinesMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="0d540-207">[![Project contract lines template mapping](./media/ProjectContractLinesMapping.JPG)](./media/ProjectContractLinesMapping.JPG)</span></span>

<span data-ttu-id="0d540-208">[![Mappage du modèle des jalons des lignes de contrat de projet](./media/ProjectContractLineMilestonesMapping.JPG)](./media/ProjectContractLineMilestonesMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="0d540-208">[![Project contract line milestone template mapping](./media/ProjectContractLineMilestonesMapping.JPG)](./media/ProjectContractLineMilestonesMapping.JPG)</span></span>

#### <a name="project-contract-line-milestone-mapping-in-the-projects-and-contracts-psa-3x-to-dynamics---v2-template"></a><span data-ttu-id="0d540-209">Cartographie des jalons de la ligne de contrat de projet dans les projets et contrats (PSA 3.x vers Dynamics) - modèle v2 :</span><span class="sxs-lookup"><span data-stu-id="0d540-209">Project contract line milestone mapping in the Projects and Contracts (PSA 3.x to Dynamics) - v2 template:</span></span>

<span data-ttu-id="0d540-210">[![Modèle v2 du mappage des jalons des lignes de contrat de projet](./media/ProjectContractLineMilestoneMapping_v2.jpg)](./media/ProjectContractLineMilestoneMapping_v2.jpg)</span><span class="sxs-lookup"><span data-stu-id="0d540-210">[![Project contract line milestone mapping with version two template](./media/ProjectContractLineMilestoneMapping_v2.jpg)](./media/ProjectContractLineMilestoneMapping_v2.jpg)</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]